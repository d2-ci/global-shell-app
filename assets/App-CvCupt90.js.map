{"version":3,"file":"App-CvCupt90.js","sources":["../../../../node_modules/@dhis2/ui-icons/build/es/react/Apps16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/ArrowLeft16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Lock16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/LogOut16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/More16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Question16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Redo16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Search16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/Settings16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/TerminalWindow16.js","../../../../node_modules/@dhis2/ui-icons/build/es/react/User16.js","../../../../node_modules/@dhis2/pwa/build/es/offline-interface/pwa-update-offline-interface.js","../../src/D2App/lib/clientPWAUpdateState.jsx","../../src/D2App/locales/index.js","../../src/D2App/components/ConfirmUpdateModal.tsx","../../src/D2App/components/header-bar/command-palette/utils/constants.js","../../src/D2App/components/header-bar/command-palette/context/command-palette-context.jsx","../../src/D2App/components/header-bar/join-path.js","../../src/D2App/components/header-bar/command-palette/hooks/use-actions.jsx","../../src/D2App/components/header-bar/command-palette/utils/escapeCharacters.js","../../src/D2App/components/header-bar/command-palette/utils/filterItemsArray.js","../../src/D2App/components/header-bar/command-palette/hooks/use-filter.js","../../src/D2App/components/header-bar/command-palette/utils/compare-arrays.js","../../src/D2App/components/header-bar/command-palette/hooks/use-is-mobile.js","../../src/D2App/components/header-bar/command-palette/hooks/use-grid-navigation.js","../../src/D2App/components/header-bar/command-palette/hooks/use-modal.js","../../src/D2App/components/header-bar/command-palette/sections/modal-container.jsx","../../src/D2App/components/header-bar/command-palette/icons/navigation-icons.jsx","../../src/D2App/components/header-bar/command-palette/sections/navigation-key.jsx","../../src/D2App/components/header-bar/command-palette/sections/navigation-keys-legend.jsx","../../src/D2App/components/header-bar/command-palette/sections/search-filter.jsx","../../src/D2App/components/header-bar/command-palette/sections/app-item.jsx","../../src/D2App/components/header-bar/command-palette/sections/heading.jsx","../../src/D2App/components/header-bar/command-palette/sections/list-item.jsx","../../src/D2App/components/header-bar/command-palette/views/home-view.jsx","../../src/D2App/components/header-bar/command-palette/sections/empty-search-results.jsx","../../src/D2App/components/header-bar/command-palette/views/list-view.jsx","../../src/D2App/components/header-bar/command-palette/command-palette.jsx","../../src/D2App/components/header-bar/header-bar-context.jsx","../../src/D2App/components/header-bar/logo-image.jsx","../../src/D2App/components/header-bar/logo.jsx","../../src/D2App/components/header-bar/notification-icon.jsx","../../src/D2App/components/header-bar/notifications.jsx","../../src/D2App/components/header-bar/online-status.styles.js","../../src/D2App/components/header-bar/online-status.jsx","../../src/D2App/components/header-bar/debug-info/use-debug-info.js","../../src/D2App/components/header-bar/debug-info/debug-info-table.jsx","../../src/D2App/components/header-bar/debug-info/debug-info-modal.jsx","../../src/D2App/components/header-bar/profile/use-on-doc-click.js","../../src/D2App/components/header-bar/debug-info/debug-info-menu-item.jsx","../../src/D2App/components/header-bar/profile-menu/profile-header.jsx","../../src/D2App/components/header-bar/profile-menu/update-notification.jsx","../../src/D2App/components/header-bar/profile-menu/profile-menu.jsx","../../src/D2App/components/header-bar/profile.jsx","../../src/D2App/components/header-bar/title.jsx","../../src/D2App/components/header-bar/header-bar.jsx","../../src/D2App/components/ConnectedHeaderbar.jsx","../../../../node_modules/@dhis2/app-service-plugin/build/es/PluginError.js","../../../../node_modules/@dhis2/app-service-plugin/build/es/Plugin.js","../../src/D2App/components/PluginLoader.jsx","../../src/D2App/App.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgApps16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 12v2H2v-2zm5 0v2H7v-2zm5 0v2h-2v-2zM4 7v2H2V7zm5 0v2H7V7zm5 0v2h-2V7zM4 2v2H2V2zm5 0v2H7V2zm5 0v2h-2V2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\nSvgApps16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgApps16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgArrowLeft16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.354 2.646a.5.5 0 01.057.638l-.057.07L3.207 7.5H14a.5.5 0 01.09.992L14 8.5H3.207l4.147 4.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-5-5a.5.5 0 01-.057-.638l.057-.07 5-5a.5.5 0 01.708 0z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgArrowLeft16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgArrowLeft16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgLock16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 1a3 3 0 013 3v2h1c.552 0 1 .504 1 1.125v6.75c0 .621-.448 1.125-1 1.125H4c-.552 0-1-.504-1-1.125v-6.75C3 6.504 3.448 6 4 6h1V4a3 3 0 013-3zm4 6H4v7h8zM8 9a1 1 0 110 2 1 1 0 010-2zm0-7a2 2 0 00-1.995 1.85L6 4v2h4V4a2 2 0 00-2-2z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgLock16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgLock16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgLogOut16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 9c1.014 0 1.94.378 2.646 1H5a3 3 0 00-2.995 2.824L2 13v1h8v-1h1v2H1v-2a4 4 0 014-4zm5.784-.411l.07.057 2.5 2.5.011.013a.503.503 0 01.033.039l-.044-.052a.502.502 0 01.146.354v.02a.503.503 0 01-.005.052l.005-.072a.502.502 0 01-.089.284l-.013.018a.503.503 0 01-.033.04l-.011.012-2.5 2.5a.5.5 0 01-.765-.638l.057-.07L13.792 12H7a.5.5 0 01-.09-.992L7 11h6.794l-1.648-1.646a.5.5 0 01-.057-.638l.057-.07a.5.5 0 01.638-.057zM6 2a3 3 0 110 6 3 3 0 010-6zm0 1a2 2 0 100 4 2 2 0 000-4z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgLogOut16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgLogOut16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgMore16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 7a1 1 0 110 2 1 1 0 010-2zm5 0a1 1 0 110 2 1 1 0 010-2zm5 0a1 1 0 110 2 1 1 0 010-2z\",\n    fill: \"currentColor\",\n    fillRule: \"evenodd\"\n  }));\n}\nSvgMore16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgMore16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgQuestion16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm0 9a1 1 0 110 2 1 1 0 010-2zm0-7.5a2.5 2.5 0 01.64 4.918l-.14.031V10h-1V7.5H8a1.5 1.5 0 10-1.493-1.644L6.5 6h-1A2.5 2.5 0 018 3.5z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgQuestion16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgQuestion16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgRedo16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.784 4.089l.07.057 3 3a.5.5 0 01.057.638l-.057.07-3 3a.5.5 0 01-.765-.638l.057-.07L13.293 8 4 8a2 2 0 00-.15 3.995L4 12h2.5a.5.5 0 01.09.992L6.5 13H4a3 3 0 01-.176-5.995L4 7l9.293-.001-2.147-2.145a.5.5 0 01-.057-.638l.057-.07a.5.5 0 01.638-.057z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgRedo16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgRedo16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgSearch16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 1a5 5 0 013.871 8.164l4.483 4.482-.708.708L9.164 9.87A5 5 0 116 1zm0 1a4 4 0 100 8 4 4 0 000-8z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgSearch16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgSearch16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgSettings16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 1v2.416l.264.125a5 5 0 01.689.424l.014.011 2.095-1.208 2 3.464-2.094 1.209.016.15.009.136L13 8c0 .182-.01.364-.03.543l-.002.015 2.094 1.21-2 3.464-2.095-1.209-.236.166a4.991 4.991 0 01-.712.386l-.019.008V15H6v-2.417l-.263-.123a5 5 0 01-.69-.425l-.015-.012-2.094 1.209-2-3.464 2.093-1.21-.015-.15-.009-.135L3 8c0-.183.01-.364.03-.543l.001-.016L.938 6.232l2-3.464 2.094 1.208.238-.165c.226-.148.464-.277.711-.386L6 3.416V1zM9 2H7v2.126a3.996 3.996 0 00-1.853 1.07L3.304 4.135l-1 1.732 1.841 1.063a4.004 4.004 0 000 2.142l-1.841 1.063 1 1.732 1.843-1.063c.501.51 1.139.887 1.853 1.071V14h2v-2.126a3.996 3.996 0 001.853-1.07l1.843 1.062 1-1.732-1.84-1.064a4.004 4.004 0 000-2.14l1.84-1.064-1-1.732-1.843 1.063a3.996 3.996 0 00-1.852-1.07zM8 6a2 2 0 110 4 2 2 0 010-4zm0 1a1 1 0 100 2 1 1 0 000-2z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgSettings16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgSettings16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgTerminalWindow16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 2a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1V3a1 1 0 011-1zm0 4H2v7h12zM5.854 7.146L8.207 9.5l-2.353 2.354-.708-.708L6.793 9.5 5.146 7.854zM14 3H2v2h12z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgTerminalWindow16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgTerminalWindow16;","import PropTypes from 'prop-types';\nimport * as React from 'react';\nfunction SvgUser16(_ref) {\n  let {\n    color,\n    dataTest,\n    ariaLabel\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    color: color,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 8a5 5 0 015 5v1H2v-1a5 5 0 015-5zm0 1H7a4 4 0 00-3.995 3.8L3 13h10a4 4 0 00-3.8-3.995zM8 1a3 3 0 110 6 3 3 0 010-6zm0 1a2 2 0 100 4 2 2 0 000-4z\",\n    fill: \"currentColor\"\n  }));\n}\nSvgUser16.propTypes = {\n  color: PropTypes.string,\n  dataTest: PropTypes.string,\n  ariaLabel: PropTypes.string\n};\nexport default SvgUser16;","import EventEmitter from 'events';\nimport { swMsgs } from '../lib/constants.js';\nimport { checkForUpdates } from '../lib/registration.js';\n\n// todo: this could be used as a base for the other, larger offline interface\n\n/**\n * This and the following 'test' functions test for PWA features and log errors\n * if there's an issue so they can be reused in the Offline Interface methods.\n *\n * Known situations when navigator.serviceWorker is not available:\n * 1. Private browsing in firefox\n * 2. Insecure contexts (e.g. http that's not local host)\n */\nfunction testSWAvailable(_ref) {\n  let {\n    targetWindow = window\n  } = _ref;\n  if ('serviceWorker' in targetWindow.navigator) {\n    return true;\n  }\n  const msg = (!targetWindow.isSecureContext ? 'This window is not a secure context -- see https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.' : '`serviceWorker` is not available on `navigator`.') + ' PWA features will not work.';\n  console.error(new Error(msg));\n  return false;\n}\n\n/** This exposes an interface to check a  */\nexport class PWAUpdateOfflineInterface {\n  constructor(_ref2) {\n    let {\n      targetWindow = window\n    } = _ref2;\n    if (!testSWAvailable({\n      targetWindow\n    })) {\n      return;\n    }\n    this.targetWindow = targetWindow;\n    this.serviceWorker = targetWindow.navigator.serviceWorker;\n\n    // This event emitter helps coordinate with service worker messages\n    this.offlineEvents = new EventEmitter();\n    // Receives messages from service worker and forwards to event emitter\n    const handleSWMessage = event => {\n      if (!event.data) {\n        return;\n      }\n      const {\n        type,\n        payload\n      } = event.data;\n      this.offlineEvents.emit(type, payload);\n    };\n    this.serviceWorker.addEventListener('message', handleSWMessage);\n  }\n\n  /** Basically `checkForUpdates` from registration.js exposed here */\n  checkForNewSW(_ref3) {\n    let {\n      onNewSW\n    } = _ref3;\n    // Check for SW updates (or first activation)\n    checkForUpdates({\n      onUpdate: onNewSW,\n      targetServiceWorker: this.serviceWorker\n    });\n  }\n\n  /**\n   * Requests clients info from the active service worker.\n   * @returns {Promise}\n   */\n  getClientsInfo() {\n    if (!testSWAvailable({\n      targetWindow: this.targetWindow\n    })) {\n      return Promise.resolve({\n        clientsCount: 0\n      });\n    }\n    return new Promise((resolve, reject) => {\n      this.serviceWorker.getRegistration().then(registration => {\n        const newestSW = (registration === null || registration === void 0 ? void 0 : registration.waiting) || (registration === null || registration === void 0 ? void 0 : registration.active);\n        if (!newestSW) {\n          resolve({\n            clientsCount: 0\n          });\n          return;\n        }\n\n        // Send request message to newest SW\n        newestSW.postMessage({\n          type: swMsgs.getClientsInfo\n        });\n        // Resolve with payload received from SW `clientsInfo` message\n        this.offlineEvents.once(swMsgs.clientsInfo, resolve);\n        // Clean up potentially unused listeners eventually\n        setTimeout(() => {\n          reject('Request for clients info timed out');\n          this.offlineEvents.removeAllListeners(swMsgs.clientsInfo);\n        }, 2000);\n      });\n    });\n  }\n\n  /**\n   * Makes a new SW either skip waiting if it's an update,\n   * or claim clients if it's the first SW activation\n   */\n  useNewSW() {\n    if (!testSWAvailable({\n      targetWindow: this.targetWindow\n    })) {\n      return Promise.resolve();\n    }\n    return this.serviceWorker.getRegistration().then(registration => {\n      if (!registration) {\n        throw new Error('No service worker is registered');\n      }\n      if (registration.waiting) {\n        // Update existing service worker\n        registration.waiting.postMessage({\n          type: swMsgs.skipWaiting\n        });\n      } else if (registration.active) {\n        // (First SW activation) Have SW take control of clients\n        registration.active.postMessage({\n          type: swMsgs.claimClients\n        });\n      }\n    });\n  }\n}\n","import { PWAUpdateOfflineInterface } from '@dhis2/pwa';\nimport PropTypes from 'prop-types';\nimport React, { useState, useCallback, createContext, useContext, useMemo } from 'react';\nconst ClientPWAUpdateStateContext = createContext();\nconst ClientOfflineInterfaceContext = createContext();\nexport const ClientPWAProvider = ({\n  children\n}) => {\n  const [offlineInterface, setOfflineInterface] = useState();\n  const [updateAvailable, setUpdateAvailable] = useState(false);\n  const [clientsCount, setClientsCount] = useState(null);\n  const onConfirmUpdate = useCallback(() => {\n    offlineInterface.useNewSW();\n  }, [offlineInterface]);\n  const onCancelUpdate = useCallback(() => {\n    setClientsCount(null);\n  }, []);\n  const confirmReload = useCallback(() => {\n    offlineInterface.getClientsInfo().then(({\n      clientsCount\n    }) => {\n      if (clientsCount === 1) {\n        // Just one client; go ahead and reload\n        onConfirmUpdate();\n      } else {\n        // Multiple clients; warn about data loss before reloading\n        setClientsCount(clientsCount);\n      }\n    }).catch(reason => {\n      // Didn't get clients info\n      console.warn(reason);\n\n      // Go ahead with confirmation modal with `0` as clientsCount\n      setClientsCount(0);\n    });\n  }, [offlineInterface, onConfirmUpdate]);\n  const confirmationRequired = clientsCount !== null;\n  const clientPWAUpdateState = useMemo(() => ({\n    updateAvailable,\n    confirmReload,\n    confirmationRequired,\n    clientsCount,\n    onConfirmUpdate,\n    onCancelUpdate\n  }), [updateAvailable, confirmReload, confirmationRequired, clientsCount, onConfirmUpdate, onCancelUpdate]);\n  const initClientOfflineInterface = useCallback(({\n    clientWindow\n  }) => {\n    const newOfflineInterface = new PWAUpdateOfflineInterface({\n      targetWindow: clientWindow\n    });\n    // Reset this, if it's keeping a dialog open from a previous reload\n    setClientsCount(null);\n    setOfflineInterface(newOfflineInterface);\n    newOfflineInterface.checkForNewSW({\n      onNewSW: () => {\n        setUpdateAvailable(true);\n      }\n    });\n  }, []);\n  return <ClientPWAUpdateStateContext.Provider value={clientPWAUpdateState}>\n            <ClientOfflineInterfaceContext.Provider value={initClientOfflineInterface}>\n                {children}\n            </ClientOfflineInterfaceContext.Provider>\n        </ClientPWAUpdateStateContext.Provider>;\n};\nClientPWAProvider.propTypes = {\n  children: PropTypes.node\n};\nexport const useClientPWAUpdateState = () => useContext(ClientPWAUpdateStateContext);\n\n/** Returns initClientOfflineInterface() */\nexport const useClientOfflineInterface = () => useContext(ClientOfflineInterfaceContext);","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { Button, ButtonStrip, Modal, ModalActions, ModalContent, ModalTitle } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../locales/index.js';\nexport function ConfirmUpdateModal({\n  clientsCount,\n  onCancel,\n  onConfirm\n}) {\n  return <Modal position=\"middle\">\n            <ModalTitle>{i18n.t('Save your data')}</ModalTitle>\n            <ModalContent>\n                {clientsCount ? i18n.t(\"Updating will reload all {{n}} open instances of this app, and any unsaved data will be lost. Save any data you need to, then click 'Reload' when ready.\", {\n        n: clientsCount\n      }) :\n      // Fallback if clientsCount is unavailable:\n      i18n.t(\"Updating will reload all open instances of this app, and any unsaved data will be lost. Save any data you need to, then click 'Reload' when ready.\")}\n            </ModalContent>\n            <ModalActions>\n                <ButtonStrip end>\n                    <Button onClick={onCancel}>{i18n.t('Cancel')}</Button>\n                    <Button destructive onClick={onConfirm}>\n                        {i18n.t('Reload')}\n                    </Button>\n                </ButtonStrip>\n            </ModalActions>\n        </Modal>;\n}","// views\nexport const HOME_VIEW = 'HOME';\nexport const ALL_APPS_VIEW = 'APPS';\nexport const ALL_COMMANDS_VIEW = 'COMMANDS';\nexport const ALL_SHORTCUTS_VIEW = 'SHORTCUTS';\n\n// home section\nexport const GRID_SECTION = 'GRID';\nexport const ACTIONS_SECTION = 'ACTIONS';\n\n// grid\nexport const MOBILE_GRID_COLUMNS = 2;\nexport const DESKTOP_GRID_COLUMNS = 4;\n\n// actions\nexport const MIN_APPS_NUM = 8;\nexport const MIN_COMMANDS_NUM = 0;\nexport const MIN_SHORTCUTS_NUM = 0;\n\n// types\nexport const ACTION = 'ACTION';\nexport const APP = 'APP';\nexport const COMMAND = 'COMMAND';\nexport const SHORTCUT = 'SHORTCUT';\nexport const FILTERABLE_ACTION = 'FILTERABLE_ACTION';","import PropTypes from 'prop-types';\nimport React, { createContext, useContext, useMemo, useState } from 'react';\nimport { HOME_VIEW } from '../utils/constants.js';\nconst commandPaletteContext = createContext();\nexport const CommandPaletteContextProvider = ({\n  children\n}) => {\n  const [filter, setFilter] = useState('');\n  const [currentView, setCurrentView] = useState(HOME_VIEW);\n  const contextValue = useMemo(() => ({\n    filter,\n    setFilter,\n    currentView,\n    setCurrentView\n  }), [filter, currentView]);\n  return <commandPaletteContext.Provider value={contextValue}>\n            {children}\n        </commandPaletteContext.Provider>;\n};\nCommandPaletteContextProvider.propTypes = {\n  children: PropTypes.node\n};\nexport const useCommandPaletteContext = () => useContext(commandPaletteContext);","export const joinPath = (...parts) => {\n  const realParts = parts.filter(part => !!part);\n  return realParts.map(part => part.replace(/^\\/+|\\/+$/g, '')).join('/');\n};","import { clearSensitiveCaches, useConfig } from '@dhis2/app-runtime';\nimport { colors } from '@dhis2/ui-constants';\nimport { IconApps16, IconArrowLeft16, IconLogOut16, IconRedo16, IconTerminalWindow16 } from '@dhis2/ui-icons';\nimport React, { useCallback, useMemo } from 'react';\nimport i18n from '../../../../locales/index.js';\nimport { joinPath } from '../../join-path.js';\nimport { useCommandPaletteContext } from '../context/command-palette-context.jsx';\nimport { ACTION, ALL_APPS_VIEW, ALL_COMMANDS_VIEW, ALL_SHORTCUTS_VIEW, FILTERABLE_ACTION, HOME_VIEW, MIN_APPS_NUM, MIN_COMMANDS_NUM, MIN_SHORTCUTS_NUM } from '../utils/constants.js';\nexport const useAvailableActions = ({\n  apps,\n  shortcuts,\n  commands\n}) => {\n  const {\n    baseUrl\n  } = useConfig();\n  const {\n    currentView,\n    setCurrentView,\n    setFilter\n  } = useCommandPaletteContext();\n  const logoutURL = joinPath(baseUrl, 'dhis-web-commons-security/logout.action');\n  const logoutAction = async href => {\n    await clearSensitiveCaches();\n    window.location.assign(href);\n  };\n  const switchViewAction = useCallback(type => {\n    setCurrentView(type);\n    setFilter('');\n  }, [setCurrentView, setFilter]);\n  const actions = useMemo(() => {\n    const actionsArray = [];\n    if (currentView === HOME_VIEW) {\n      if (apps?.length > MIN_APPS_NUM) {\n        actionsArray.push({\n          type: FILTERABLE_ACTION,\n          name: i18n.t('Browse apps'),\n          icon: <IconApps16 color={colors.grey700} />,\n          dataTest: 'headerbar-browse-apps',\n          action: () => switchViewAction(ALL_APPS_VIEW)\n        });\n      }\n      if (commands?.length > MIN_COMMANDS_NUM) {\n        actionsArray.push({\n          type: FILTERABLE_ACTION,\n          name: i18n.t('Browse commands'),\n          icon: <IconTerminalWindow16 color={colors.grey700} />,\n          dataTest: 'headerbar-browse-commands',\n          action: () => switchViewAction(ALL_COMMANDS_VIEW)\n        });\n      }\n      if (shortcuts?.length > MIN_SHORTCUTS_NUM) {\n        actionsArray.push({\n          type: FILTERABLE_ACTION,\n          name: i18n.t('Browse shortcuts'),\n          icon: <IconRedo16 color={colors.grey700} />,\n          dataTest: 'headerbar-browse-shortcuts',\n          action: () => switchViewAction(ALL_SHORTCUTS_VIEW)\n        });\n      }\n      // default logout action\n      actionsArray.push({\n        type: FILTERABLE_ACTION,\n        name: i18n.t('Logout'),\n        icon: <IconLogOut16 color={colors.grey700} />,\n        dataTest: 'headerbar-logout',\n        action: () => logoutAction(logoutURL)\n      });\n    } else {\n      actionsArray.push({\n        type: ACTION,\n        name: i18n.t('Back'),\n        icon: <IconArrowLeft16 color={colors.grey700} />,\n        dataTest: 'headerbar-back-action',\n        action: () => switchViewAction(HOME_VIEW)\n      });\n    }\n    return actionsArray;\n  }, [apps, shortcuts, commands, currentView, logoutURL, switchViewAction]);\n  return actions;\n};","/**\n * Copied from here:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n */\nexport function escapeRegExpCharacters(text) {\n  return text.replace(/[/.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}","import { escapeRegExpCharacters } from './escapeCharacters.js';\nexport const filterItemsArray = (items, filter) => {\n  return items.filter(({\n    displayName,\n    name\n  }) => {\n    const itemName = displayName || name;\n    const formattedItemName = itemName.toLowerCase();\n    const formattedFilter = escapeRegExpCharacters(filter).toLowerCase();\n    return filter.length > 0 ? formattedItemName.match(formattedFilter) : true;\n  });\n};","import { useMemo } from 'react';\nimport { useCommandPaletteContext } from '../context/command-palette-context.jsx';\nimport { ALL_APPS_VIEW, ALL_COMMANDS_VIEW, ALL_SHORTCUTS_VIEW, FILTERABLE_ACTION } from '../utils/constants.js';\nimport { filterItemsArray } from '../utils/filterItemsArray.js';\nexport const useFilter = ({\n  apps,\n  commands,\n  shortcuts,\n  actions\n}) => {\n  const {\n    filter,\n    currentView\n  } = useCommandPaletteContext();\n  const searchableActions = actions.filter(action => action.type === FILTERABLE_ACTION);\n  const filteredApps = filterItemsArray(apps, filter);\n  const filteredCommands = filterItemsArray(commands, filter);\n  const filteredShortcuts = filterItemsArray(shortcuts, filter);\n  const filteredActions = filterItemsArray(searchableActions, filter);\n  const filteredItems = useMemo(() => {\n    if (currentView === ALL_APPS_VIEW) {\n      return filteredApps;\n    } else if (currentView === ALL_COMMANDS_VIEW) {\n      return filteredCommands;\n    } else if (currentView === ALL_SHORTCUTS_VIEW) {\n      return filteredShortcuts;\n    } else {\n      return filteredApps.concat(filteredCommands, filteredShortcuts, filteredActions);\n    }\n  }, [currentView, filteredApps, filteredCommands, filteredShortcuts, filteredActions]);\n  return filteredItems;\n};","export const isSameArray = (firstArray, secondArray) => firstArray?.length === secondArray?.length && firstArray.every((value, index) => value === secondArray[index]);","import { useState, useEffect } from 'react';\nexport const useIsMobile = hasGrid => {\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 480);\n  useEffect(() => {\n    if (!hasGrid) {\n      return;\n    }\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 480);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [hasGrid, setIsMobile]);\n  return isMobile;\n};","import { useState, useMemo, useCallback, useRef, useEffect } from 'react';\nimport { useCommandPaletteContext } from '../context/command-palette-context.jsx';\nimport { isSameArray } from '../utils/compare-arrays.js';\nimport { DESKTOP_GRID_COLUMNS, HOME_VIEW, MIN_APPS_NUM, MOBILE_GRID_COLUMNS } from '../utils/constants.js';\nimport { useIsMobile } from './use-is-mobile.js';\nconst constructGrid = (items, columns) => {\n  return items.reduce((acc, item, index) => {\n    const rowIndex = Math.floor(index / columns);\n    if (!acc[rowIndex]) {\n      acc[rowIndex] = [];\n    }\n    acc[rowIndex].push(item);\n    return acc;\n  }, []);\n};\nconst useGridNavigation = (gridItems, listItems) => {\n  const gridItemsRef = useRef(gridItems);\n  const listItemsRef = useRef(listItems);\n  const {\n    currentView,\n    filter\n  } = useCommandPaletteContext();\n  const isMobile = useIsMobile(gridItems.length > 0);\n  const [currentLocation, setCurrentLocation] = useState({\n    x: 0,\n    y: 0\n  });\n  const gridColumnCount = isMobile ? MOBILE_GRID_COLUMNS : DESKTOP_GRID_COLUMNS;\n  const gridSection = useMemo(() => constructGrid(gridItems.slice(0, MIN_APPS_NUM), gridColumnCount), [gridItems, gridColumnCount]);\n  const grid = useMemo(() => [...gridSection, ...listItems.map(item => [item])], [gridSection, listItems]);\n  const handleKeyDown = useCallback(event => {\n    const updateLocation = location => {\n      if (grid?.length) {\n        if (location.y < 0) {\n          location.y = grid.length - 1;\n        }\n        if (location.y > grid.length - 1) {\n          location.y = 0;\n        }\n        if (location.x < 0) {\n          location.x = grid[location.y].length - 1;\n        }\n        if (location.x > grid[location.y].length - 1) {\n          location.x = 0;\n        }\n      }\n      return location;\n    };\n    switch (event.key) {\n      case 'ArrowUp':\n        event.preventDefault();\n        setCurrentLocation(prev => updateLocation({\n          x: prev.x,\n          y: prev.y - 1\n        }));\n        break;\n      case 'ArrowDown':\n        event.preventDefault();\n        setCurrentLocation(prev => updateLocation({\n          x: prev.x,\n          y: prev.y + 1\n        }));\n        break;\n      case 'ArrowLeft':\n        setCurrentLocation(prev => updateLocation({\n          x: prev.x - 1,\n          y: prev.y\n        }));\n        break;\n      case 'ArrowRight':\n        setCurrentLocation(prev => updateLocation({\n          x: prev.x + 1,\n          y: prev.y\n        }));\n        break;\n    }\n  }, [grid, setCurrentLocation]);\n  useEffect(() => {\n    if (gridItemsRef.current && listItemsRef.current) {\n      const isSameGrid = isSameArray(gridItemsRef.current, gridItems) && isSameArray(listItemsRef.current, listItems);\n      if (isSameGrid) {\n        return;\n      } else if (currentView === HOME_VIEW || filter) {\n        setCurrentLocation({\n          x: 0,\n          y: 0\n        });\n      } else {\n        setCurrentLocation({\n          x: 0,\n          y: 1\n        });\n      }\n    }\n    gridItemsRef.current = gridItems;\n    listItemsRef.current = listItems;\n  }, [currentView, filter, gridItems, listItems]);\n  const currentItem = grid?.[currentLocation.y]?.[currentLocation.x] || null;\n  const gridRowCount = gridSection.length;\n  return {\n    currentItem,\n    grid,\n    gridRowCount,\n    gridColumnCount,\n    handleKeyDown\n  };\n};\nexport default useGridNavigation;","import { useRef, useState, useEffect } from 'react';\nconst useModal = currentItem => {\n  const modalRef = useRef(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  useEffect(() => {\n    if (modalRef.current) {\n      if (modalOpen) {\n        modalRef.current.showModal();\n      } else {\n        modalRef.current.close();\n      }\n    }\n  }, [modalOpen, modalRef]);\n  useEffect(() => {\n    if (modalRef.current) {\n      const activeItem = modalRef.current.querySelector('.highlighted');\n      if (activeItem && typeof activeItem.scrollIntoView === 'function') {\n        currentItem !== null && activeItem.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    }\n  }, [currentItem, modalRef]);\n  return {\n    modalRef,\n    modalOpen,\n    setModalOpen\n  };\n};\nexport default useModal;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, elevations } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef, useEffect } from 'react';\nconst ModalContainer = forwardRef(function ModalContainer({\n  children,\n  onKeyDown,\n  onClick\n}, ref) {\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    const modal = ref.current;\n    const handleFocus = event => {\n      if (event.target === modal) {\n        modal?.querySelector('input').focus();\n      }\n    };\n    modal.addEventListener('click', onClick);\n    modal.addEventListener('focus', handleFocus);\n    modal.addEventListener('keydown', onKeyDown);\n    return () => {\n      modal.removeEventListener('click', onClick);\n      modal.removeEventListener('focus', handleFocus);\n      modal.removeEventListener('keydown', onKeyDown);\n    };\n  }, [onKeyDown, ref, onClick]);\n  return <>\n            <dialog ref={ref} className={_JSXStyle.dynamic([[\"2668398959\", [colors.white, elevations.e100]]])}>{children}</dialog>\n            <_JSXStyle id={\"2668398959\"} dynamic={[colors.white, elevations.e100]}>{[`dialog.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;border:none;border-radius:1px;padding:1px;width:572px;max-height:544px;margin:0 auto;border-radius:3px;background:${colors.white};box-shadow:${elevations.e100};margin-top:92px;}`]}</_JSXStyle>\n        </>;\n});\nModalContainer.propTypes = {\n  children: PropTypes.node,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nexport default ModalContainer;","import { colors } from '@dhis2/ui-constants';\nimport React from 'react';\nconst BackNavigationIcon = () => <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" data-test=\"back-navigation-icon\">\n        <path d=\"M12.5 4H5.31213L1.17075 7.62371C1.06224 7.71866 1 7.85582 1 8C1 8.14418 1.06224 8.28134 1.17075 8.37629L5.31213 12H12.5C13.3284 12 14 11.3284 14 10.5V5.5C14 4.67157 13.3284 4 12.5 4ZM2.2593 8L5.68787 5H12.5C12.7761 5 13 5.22386 13 5.5V10.5C13 10.7761 12.7761 11 12.5 11H5.68787L2.2593 8ZM10.6464 10.3536L8.99998 8.70714L7.35353 10.3536L6.64642 9.64648L8.29287 8.00004L6.64642 6.35359L7.35353 5.64648L8.99998 7.29293L10.6464 5.64648L11.3535 6.35359L9.70708 8.00004L11.3535 9.64648L10.6464 10.3536Z\" fill={colors.grey700} />\n    </svg>;\nconst CloseKeyIcon = () => <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" data-test=\"close-key-icon\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M1 5H5V6H2V7H5V8H2V10H5V11H1V5ZM11 5H15V6H12V10H15V11H11V5ZM10 5H6V8H9V10H6V11H10V7H7V6H10V5Z\" fill={colors.grey700} />\n    </svg>;\nconst MultiDirectionNavigationIcon = () => <svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" data-test=\"multi-direction-navigation-icon\">\n        <path d=\"M7.5 0.292847L10.3536 3.1464L9.64645 3.85351L8 2.20706V6H7V2.20706L5.35355 3.85351L4.64645 3.1464L7.5 0.292847ZM12.7929 7H9V8H12.7929L11.1464 9.64648L11.8536 10.3536L14.7071 7.50004L11.8536 4.64648L11.1464 5.35359L12.7929 7ZM8 9L8 12.7929L9.64645 11.1465L10.3536 11.8536L7.5 14.7072L4.64645 11.8536L5.35355 11.1465L7 12.7929L7 9H8ZM2.20714 8L6 8L6 7L2.20707 7L3.85355 5.35352L3.14645 4.64641L0.292892 7.49996L3.14645 10.3535L3.85355 9.64641L2.20714 8Z\" fill={colors.grey700} />\n    </svg>;\nconst SelectKeyIcon = () => <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" data-test=\"select-key-icon\">\n        <path d=\"M8 5H11V9H4.70716L6.85357 6.85359L6.14646 6.14648L2.79291 9.50004L6.14646 12.8536L6.85357 12.1465L4.70708 10H12V4H8V5Z\" fill={colors.grey700} />\n    </svg>;\nconst VerticalNavigationIcon = () => <svg width=\"15\" height=\"16\" viewBox=\"0 0 15 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" data-test=\"vertical-navigation-icon\">\n        <path d=\"M7.49998 0.292847L10.3535 3.1464L9.64642 3.85351L7.99998 2.20706V6H6.99998V2.20706L5.35353 3.85351L4.64642 3.1464L7.49998 0.292847ZM7.99998 12.7929L7.99998 9H6.99998L6.99998 12.7929L5.35353 11.1465L4.64643 11.8536L7.49998 14.7072L10.3535 11.8536L9.64642 11.1465L7.99998 12.7929Z\" fill={colors.grey700} />\n    </svg>;\nexport { BackNavigationIcon, CloseKeyIcon, MultiDirectionNavigationIcon, SelectKeyIcon, VerticalNavigationIcon };","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst NavigationKey = ({\n  icon,\n  label\n}) => {\n  return <div className={_JSXStyle.dynamic([[\"3319326531\", [spacers.dp4, colors.grey700, colors.white, colors.grey400]]])}>\n            <div className={_JSXStyle.dynamic([[\"3319326531\", [spacers.dp4, colors.grey700, colors.white, colors.grey400]]]) + \" \" + \"icon\"}>{icon}</div>\n            <span className={_JSXStyle.dynamic([[\"3319326531\", [spacers.dp4, colors.grey700, colors.white, colors.grey400]]]) + \" \" + \"label\"}>{label}</span>\n\n            <_JSXStyle id={\"3319326531\"} dynamic={[spacers.dp4, colors.grey700, colors.white, colors.grey400]}>{[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${spacers.dp4};}`, `span.label.__jsx-style-dynamic-selector{font-size:13px;color:${colors.grey700};}`, `div.icon.__jsx-style-dynamic-selector{width:auto;height:auto;margin:0;padding:1px;position:unset;background:${colors.white};border:1px solid ${colors.grey400};border-radius:3px;}`]}</_JSXStyle>\n        </div>;\n};\nNavigationKey.propTypes = {\n  icon: PropTypes.node,\n  label: PropTypes.string\n};\nexport default NavigationKey;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport React from 'react';\nimport i18n from '../../../../locales/index.js';\nimport { useCommandPaletteContext } from '../context/command-palette-context.jsx';\nimport { BackNavigationIcon, CloseKeyIcon, MultiDirectionNavigationIcon, SelectKeyIcon, VerticalNavigationIcon } from '../icons/navigation-icons.jsx';\nimport { HOME_VIEW } from '../utils/constants.js';\nimport NavigationKey from './navigation-key.jsx';\nconst NavigationKeysLegend = () => {\n  const {\n    currentView,\n    filter\n  } = useCommandPaletteContext();\n  const verticalOnly = currentView !== HOME_VIEW || Boolean(filter.length);\n  const showBackspace = currentView !== HOME_VIEW;\n  return <div data-test={'headerbar-navigation-keys-legend'} className={_JSXStyle.dynamic([[\"1446157613\", [spacers.dp8, spacers.dp12, colors.grey050, colors.grey300, spacers.dp24]]])}>\n            <NavigationKey label={i18n.t('to navigate')} icon={verticalOnly ? <VerticalNavigationIcon /> : <MultiDirectionNavigationIcon />} />\n            <NavigationKey label={i18n.t('to select')} icon={<SelectKeyIcon />} />\n            <NavigationKey label={i18n.t('to close')} icon={<CloseKeyIcon />} />\n            {showBackspace && <NavigationKey label={i18n.t('to go back one level')} icon={<BackNavigationIcon />} />}\n            <_JSXStyle id={\"1446157613\"} dynamic={[spacers.dp8, spacers.dp12, colors.grey050, colors.grey300, spacers.dp24]}>{[`div.__jsx-style-dynamic-selector{padding:${spacers.dp8} ${spacers.dp12};background:${colors.grey050};border-block-start:1px solid ${colors.grey300};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${spacers.dp24};}`]}</_JSXStyle>\n        </div>;\n};\nexport default NavigationKeysLegend;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers, theme } from '@dhis2/ui-constants';\nimport { IconSearch16 } from '@dhis2/ui-icons';\nimport { InputField } from '@dhis2-ui/input';\nimport React, { useCallback, useMemo } from 'react';\nimport i18n from '../../../../locales/index.js';\nimport { useCommandPaletteContext } from '../context/command-palette-context.jsx';\nimport { ALL_APPS_VIEW, ALL_COMMANDS_VIEW, ALL_SHORTCUTS_VIEW } from '../utils/constants.js';\nfunction SearchFilter() {\n  const {\n    currentView,\n    filter,\n    setFilter\n  } = useCommandPaletteContext();\n  const handleFilterChange = useCallback(({\n    value\n  }) => setFilter(value), [setFilter]);\n  const placeholder = useMemo(() => {\n    if (currentView === ALL_APPS_VIEW) {\n      return i18n.t('Search apps');\n    } else if (currentView === ALL_COMMANDS_VIEW) {\n      return i18n.t('Search commands');\n    } else if (currentView === ALL_SHORTCUTS_VIEW) {\n      return i18n.t('Search shortcuts');\n    }\n    return i18n.t('Search apps, shortcuts, commands');\n  }, [currentView]);\n  return <>\n            <InputField value={filter} name=\"filter\" placeholder={placeholder} onChange={handleFilterChange} initialFocus className=\"search\" autoComplete={'off'} prefixIcon={<IconSearch16 />} clearable dataTest=\"headerbar-search\" />\n            <_JSXStyle id={\"471960553\"} dynamic={[colors.grey300, colors.grey900, spacers.dp12, colors.grey600, theme.focus]}>{[`.search.__jsx-style-dynamic-selector{border-bottom:1px solid ${colors.grey300};}`, `.search.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{font-size:14px;color:${colors.grey900};padding:${spacers.dp12};margin:0;border:none;width:100%;height:40px;border-radius:3px 3px 0px 0px;}`, `.search.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:${colors.grey600};}`, `.search.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector::-moz-placeholder{color:${colors.grey600};}`, `.search.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:-ms-input-placeholder{color:${colors.grey600};}`, `.search.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector::placeholder{color:${colors.grey600};}`, `.search.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:focus{outline:2px solid ${theme.focus};outline-offset:-2px;}`]}</_JSXStyle>\n        </>;\n}\nexport default SearchFilter;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nfunction AppItem({\n  name,\n  path,\n  img,\n  highlighted\n}) {\n  return <a href={path} tabIndex={-1} target=\"_self\" className={_JSXStyle.dynamic([[\"2464231439\", [spacers.dp12, spacers.dp16, spacers.dp4, colors.white, colors.grey900, colors.grey200, colors.grey300]]]) + \" \" + (cx('item', {\n    highlighted\n  }) || \"\")}>\n            <img src={img} alt=\"app\" className={_JSXStyle.dynamic([[\"2464231439\", [spacers.dp12, spacers.dp16, spacers.dp4, colors.white, colors.grey900, colors.grey200, colors.grey300]]]) + \" \" + \"app-icon\"} />\n            <span className={_JSXStyle.dynamic([[\"2464231439\", [spacers.dp12, spacers.dp16, spacers.dp4, colors.white, colors.grey900, colors.grey200, colors.grey300]]]) + \" \" + \"app-name\"}>{name}</span>\n            <_JSXStyle id={\"2464231439\"} dynamic={[spacers.dp12, spacers.dp16, spacers.dp4, colors.white, colors.grey900, colors.grey200, colors.grey300]}>{[`a.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:${spacers.dp12};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:${spacers.dp16} ${spacers.dp4};margin:0;background:${colors.white};border-radius:1px;-webkit-text-decoration:none;text-decoration:none;color:${colors.grey900};-webkit-transition:all 0.1s ease;transition:all 0.1s ease;}`, `a.__jsx-style-dynamic-selector:hover,.highlighted.__jsx-style-dynamic-selector{background:${colors.grey200};cursor:pointer;}`, `a.__jsx-style-dynamic-selector:active{background:${colors.grey300};}`, \"a.__jsx-style-dynamic-selector:focus{outline:none;}\", \"a.__jsx-style-dynamic-selector:last-of-type{margin-bottom:0;}\", \".app-icon.__jsx-style-dynamic-selector{width:48px;height:48px;}\", \".app-name.__jsx-style-dynamic-selector{font-size:13px;text-align:center;}\"]}</_JSXStyle>\n        </a>;\n}\nAppItem.propTypes = {\n  highlighted: PropTypes.bool,\n  img: PropTypes.string,\n  name: PropTypes.string,\n  path: PropTypes.string\n};\nexport default AppItem;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nfunction Heading({\n  heading\n}) {\n  return <div className={_JSXStyle.dynamic([[\"3842839580\", [colors.grey700, spacers.dp8, spacers.dp4, spacers.dp4]]]) + \" \" + \"section-header\"}>\n            {/* role='header' ?*/}\n            <span className={_JSXStyle.dynamic([[\"3842839580\", [colors.grey700, spacers.dp8, spacers.dp4, spacers.dp4]]])}>{heading}</span>\n            <_JSXStyle id={\"3842839580\"} dynamic={[colors.grey700, spacers.dp8, spacers.dp4, spacers.dp4]}>{[`.section-header.__jsx-style-dynamic-selector{font-size:14px;font-weight:400;color:${colors.grey700};padding:${spacers.dp8};margin:2px ${spacers.dp4};}`, `.section-header.__jsx-style-dynamic-selector:first-of-type{margin-top:${spacers.dp4};}`]}</_JSXStyle>\n        </div>;\n}\nHeading.propTypes = {\n  heading: PropTypes.string\n};\nexport default Heading;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { COMMAND } from '../utils/constants.js';\nfunction ListItem({\n  title,\n  path,\n  icon,\n  image,\n  description,\n  type,\n  onClickHandler,\n  highlighted,\n  dataTest = 'headerbar-list-item'\n}) {\n  const showDescription = type === COMMAND;\n  return <a href={path || undefined} target=\"_self\" onClick={onClickHandler} data-test={dataTest} tabIndex={-1} className={_JSXStyle.dynamic([[\"875968745\", [spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]]]) + \" \" + (cx('item', {\n    highlighted\n  }) || \"\")}>\n            <div className={_JSXStyle.dynamic([[\"875968745\", [spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]]]) + \" \" + \"icon\"}>\n                {icon && <span className={_JSXStyle.dynamic([[\"875968745\", [spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]]]) + \" \" + \"icon-content\"}>{icon}</span>}\n                {image && <img src={image} alt=\"img\" className={_JSXStyle.dynamic([[\"875968745\", [spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]]]) + \" \" + \"icon-content\"} />}\n            </div>\n            <div className={_JSXStyle.dynamic([[\"875968745\", [spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]]]) + \" \" + \"text-content\"}>\n                <span className={_JSXStyle.dynamic([[\"875968745\", [spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]]]) + \" \" + \"title\"}>{title}</span>\n                {showDescription && <span className={_JSXStyle.dynamic([[\"875968745\", [spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]]]) + \" \" + \"description\"}>{description}</span>}\n            </div>\n            <_JSXStyle id={\"875968745\"} dynamic={[spacers.dp8, spacers.dp4, colors.white, colors.grey900, spacers.dp4, colors.grey200, colors.grey300, spacers.dp8, spacers.dp8, colors.grey600, spacers.dp4]}>{[`.item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:${spacers.dp8};margin:0 ${spacers.dp4};background:${colors.white};border-left:4px solid transparent;border-radius:1px;-webkit-text-decoration:none;text-decoration:none;color:${colors.grey900};-webkit-transition:all 0.1s ease;transition:all 0.1s ease;}`, `.item.__jsx-style-dynamic-selector:last-of-type{margin-bottom:${spacers.dp4};}`, `.item.__jsx-style-dynamic-selector:hover,.highlighted.__jsx-style-dynamic-selector{background:${colors.grey200};cursor:pointer;outline:none;}`, `.item.__jsx-style-dynamic-selector:active{background:${colors.grey300};}`, `.icon.__jsx-style-dynamic-selector{width:20px;height:20px;position:relative;margin-right:${spacers.dp8};}`, \".icon-content.__jsx-style-dynamic-selector{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\", `.text-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;width:100%;gap:${spacers.dp8};padding-top:2px;}`, `.description.__jsx-style-dynamic-selector{font-size:14px;color:${colors.grey600};}`, `.title.__jsx-style-dynamic-selector{font-size:14px;margin-right:${spacers.dp4};}`]}</_JSXStyle>\n        </a>;\n}\nListItem.propTypes = {\n  dataTest: PropTypes.string,\n  description: PropTypes.string,\n  highlighted: PropTypes.bool,\n  icon: PropTypes.node,\n  image: PropTypes.string,\n  path: PropTypes.string,\n  title: PropTypes.string,\n  type: PropTypes.string,\n  onClickHandler: PropTypes.func\n};\nexport default ListItem;","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../../../locales/index.js';\nimport AppItem from '../sections/app-item.jsx';\nimport Heading from '../sections/heading.jsx';\nimport ListItem from '../sections/list-item.jsx';\nconst HomeView = ({\n  grid,\n  gridColumnCount,\n  gridRowCount,\n  currentItem\n}) => {\n  return <>\n            {gridRowCount > 0 && <>\n                    <Heading heading={i18n.t('Top apps')} />\n                    <div data-test=\"headerbar-top-apps-list\" className={_JSXStyle.dynamic([[\"1042615680\", [gridColumnCount, spacers.dp4]]]) + \" \" + \"headerbar-top-apps\"}>\n                        {grid.slice(0, gridRowCount).map(arr => {\n          return arr.map((item, idx) => {\n            const {\n              displayName,\n              name,\n              defaultAction,\n              icon\n            } = item;\n            return <AppItem key={`app-${name}-${idx}`} name={displayName || name} path={defaultAction} img={icon} highlighted={item === currentItem} />;\n          });\n        })}\n                        <_JSXStyle id={\"1042615680\"} dynamic={[gridColumnCount, spacers.dp4]}>{[`.headerbar-top-apps.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat( ${gridColumnCount}, 1fr );padding:0 ${spacers.dp4};}`]}</_JSXStyle>\n                    </div>\n                </>}\n\n            {/* actions menu */}\n            <Heading heading={i18n.t('Actions')} />\n            <div role=\"menu\" className=\"actions-menu\" data-test=\"headerbar-actions-menu\">\n                {grid.slice(gridRowCount).map(actions => {\n        return actions.map((item, index) => {\n          const {\n            dataTest,\n            icon,\n            title,\n            name,\n            type,\n            href,\n            action\n          } = item;\n          return <ListItem key={`action-${type}-${index}`} title={title || name} icon={icon} dataTest={dataTest} href={href} onClickHandler={action} highlighted={item === currentItem} />;\n        });\n      })}\n            </div>\n        </>;\n};\nHomeView.propTypes = {\n  currentItem: PropTypes.object,\n  grid: PropTypes.array,\n  gridColumnCount: PropTypes.number,\n  gridRowCount: PropTypes.number\n};\nexport default HomeView;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport React from 'react';\nimport i18n from '../../../../locales/index.js';\nimport { useCommandPaletteContext } from '../context/command-palette-context.jsx';\nimport Heading from './heading.jsx';\nfunction EmptySearchResults() {\n  const {\n    filter\n  } = useCommandPaletteContext();\n  return <>\n            <div data-test=\"headerbar-empty-search\" className={_JSXStyle.dynamic([[\"4204955617\", [colors.grey700]]]) + \" \" + \"empty-results\"}>\n                <Heading heading={i18n.t(`Nothing found for \"${filter}\"`)} />\n            </div>\n            <_JSXStyle id={\"4204955617\"} dynamic={[colors.grey700]}>{[`.empty-results.__jsx-style-dynamic-selector{min-height:92px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;font-size:14px;line-height:19px;color:${colors.grey700};}`]}</_JSXStyle>\n        </>;\n}\nexport default EmptySearchResults;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport EmptySearchResults from '../sections/empty-search-results.jsx';\nimport ListItem from '../sections/list-item.jsx';\nconst ListView = ({\n  grid,\n  currentItem\n}) => {\n  const listItems = grid.reduce((acc, arr) => {\n    acc.push(arr[0]);\n    return acc;\n  }, []);\n  return <>\n            {listItems.length > 0 ? <div data-test=\"headerbar-list\">\n                    {listItems.map((item, idx) => {\n        const {\n          action,\n          displayName,\n          name,\n          defaultAction,\n          icon,\n          description,\n          url,\n          type,\n          dataTest\n        } = item;\n        const isImage = typeof icon === 'string';\n        const isIcon = React.isValidElement(icon);\n        return <ListItem type={type} key={`app-${name}-${idx}`} title={displayName || name} path={defaultAction || url} image={isImage ? icon : undefined} icon={isIcon ? icon : undefined} description={description} highlighted={currentItem === item} onClickHandler={action} dataTest={dataTest} />;\n      })}\n                </div> : <EmptySearchResults />}\n        </>;\n};\nListView.propTypes = {\n  currentItem: PropTypes.object,\n  grid: PropTypes.array\n};\nexport default ListView;","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport { IconApps24 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useRef, useEffect, useMemo } from 'react';\nimport { useCommandPaletteContext } from './context/command-palette-context.jsx';\nimport { useAvailableActions } from './hooks/use-actions.jsx';\nimport { useFilter } from './hooks/use-filter.js';\nimport useGridNavigation from './hooks/use-grid-navigation.js';\nimport useModal from './hooks/use-modal.js';\nimport ModalContainer from './sections/modal-container.jsx';\nimport NavigationKeysLegend from './sections/navigation-keys-legend.jsx';\nimport SearchFilter from './sections/search-filter.jsx';\nimport { HOME_VIEW } from './utils/constants.js';\nimport HomeView from './views/home-view.jsx';\nimport ListView from './views/list-view.jsx';\nconst CommandPalette = ({\n  apps,\n  commands,\n  shortcuts\n}) => {\n  const containerEl = useRef(null);\n  const {\n    currentView,\n    filter,\n    setCurrentView\n  } = useCommandPaletteContext();\n  const actions = useAvailableActions({\n    apps,\n    shortcuts,\n    commands\n  });\n  const filteredItems = useFilter({\n    apps,\n    commands,\n    shortcuts,\n    actions\n  });\n  const gridItems = currentView === HOME_VIEW && !filter ? apps : [];\n  const listItems = useMemo(() => {\n    if (filter) {\n      return [...filteredItems];\n    }\n    if (currentView === HOME_VIEW) {\n      return [...actions];\n    } else {\n      return [...actions, ...filteredItems];\n    }\n  }, [actions, currentView, filter, filteredItems]);\n  const {\n    currentItem,\n    grid,\n    gridColumnCount,\n    gridRowCount,\n    handleKeyDown: handleGridNavigation\n  } = useGridNavigation(gridItems, listItems);\n  const {\n    modalOpen,\n    modalRef,\n    setModalOpen\n  } = useModal(currentItem);\n  const handleKeyDown = useCallback(event => {\n    if (currentView !== HOME_VIEW) {\n      if (!filter.length && event.key === 'Backspace') {\n        event.preventDefault();\n        setCurrentView(HOME_VIEW);\n      }\n    }\n    handleGridNavigation(event);\n    switch (event.key) {\n      case 'Escape':\n        event.preventDefault();\n        setModalOpen(false);\n        break;\n      case 'Enter':\n        event.preventDefault();\n        currentItem?.['action']?.();\n        break;\n      case 'Tab':\n        event.preventDefault();\n        break;\n      default:\n        break;\n    }\n  }, [currentItem, currentView, filter, handleGridNavigation, setCurrentView, setModalOpen]);\n  const handleVisibilityToggle = useCallback(() => {\n    setModalOpen(open => !open);\n    setCurrentView(HOME_VIEW);\n  }, [setCurrentView, setModalOpen]);\n  const handleModalClick = useCallback(event => {\n    if (event.target === modalRef?.current) {\n      setModalOpen(false);\n    } else {\n      modalRef?.current?.querySelector('input').focus();\n    }\n  }, [modalRef, setModalOpen]);\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if ((event.metaKey || event.ctrlKey) && event.key === 'k') {\n        event.preventDefault();\n        handleVisibilityToggle();\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleVisibilityToggle]);\n  return <div ref={containerEl} data-test=\"headerbar-apps-menu\" className={_JSXStyle.dynamic([[\"1121100640\", [spacers.dp4, spacers.dp8]]]) + \" \" + \"headerbar-apps-menu\"}>\n            <button onClick={handleVisibilityToggle} data-test=\"headerbar-apps-icon\" className={_JSXStyle.dynamic([[\"1121100640\", [spacers.dp4, spacers.dp8]]])}>\n                <IconApps24 color={colors.white} />\n            </button>\n            {modalOpen ? <ModalContainer ref={modalRef} onKeyDown={handleKeyDown} onClick={handleModalClick}>\n                    <div data-test=\"headerbar-menu\" className={_JSXStyle.dynamic([[\"1121100640\", [spacers.dp4, spacers.dp8]]]) + \" \" + \"headerbar-menu\"}>\n                        <SearchFilter />\n                        <div className={_JSXStyle.dynamic([[\"1121100640\", [spacers.dp4, spacers.dp8]]]) + \" \" + \"headerbar-menu-content\"}>\n                            {currentView === HOME_VIEW && !filter ? <HomeView grid={grid} gridColumnCount={gridColumnCount} gridRowCount={gridRowCount} currentItem={currentItem} /> : <ListView grid={grid} currentItem={currentItem} />}\n                        </div>\n                        <NavigationKeysLegend />\n                    </div>\n                </ModalContainer> : null}\n            <_JSXStyle id={\"1121100640\"} dynamic={[spacers.dp4, spacers.dp8]}>{[`button.__jsx-style-dynamic-selector{display:block;background:transparent;padding-block-start:${spacers.dp4};padding-block-end:0;padding-inline:${spacers.dp8};border:0;cursor:pointer;height:100%;}`, \"button.__jsx-style-dynamic-selector:focus{outline:2px solid white;outline-offset:-2px;}\", \"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}\", \"button.__jsx-style-dynamic-selector:hover{background:#104f7e;}\", \"button.__jsx-style-dynamic-selector:active{background:#104067;}\", \".headerbar-apps-menu.__jsx-style-dynamic-selector{position:relative;height:100%;}\", \".headerbar-menu.__jsx-style-dynamic-selector{width:100%;}\", \".headerbar-menu-content.__jsx-style-dynamic-selector{overflow-y:auto;max-height:calc(544px - 100px);}\"]}</_JSXStyle>\n        </div>;\n};\nCommandPalette.propTypes = {\n  apps: PropTypes.array,\n  commands: PropTypes.array,\n  shortcuts: PropTypes.array\n};\nexport default CommandPalette;","import PropTypes from 'prop-types';\nimport React, { createContext, useContext, useMemo } from 'react';\nconst headerBarContext = createContext({\n  updateAvailable: false,\n  onApplyAvailableUpdate: () => {}\n});\nexport const HeaderBarContextProvider = ({\n  updateAvailable,\n  onApplyAvailableUpdate,\n  clientAppName,\n  clientAppVersion,\n  children\n}) => {\n  const contextValue = useMemo(() => ({\n    updateAvailable,\n    onApplyAvailableUpdate,\n    clientAppName,\n    clientAppVersion\n  }), [updateAvailable, onApplyAvailableUpdate, clientAppName, clientAppVersion]);\n  return <headerBarContext.Provider value={contextValue}>\n            {children}\n        </headerBarContext.Provider>;\n};\nHeaderBarContextProvider.propTypes = {\n  children: PropTypes.node,\n  clientAppName: PropTypes.string,\n  clientAppVersion: PropTypes.string,\n  updateAvailable: PropTypes.bool,\n  onApplyAvailableUpdate: PropTypes.func\n};\nexport const useHeaderBarContext = () => useContext(headerBarContext);","import _JSXStyle from \"styled-jsx/style\";\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport { LogoIconWhite } from '@dhis2-ui/logo';\nimport React from 'react';\nconst logoStyles = {\n  styles: <_JSXStyle id={\"627199744\"}>{[\"svg.jsx-627199744{height:20px;width:22px;}\", \"img.jsx-627199744{max-height:100%;min-height:auto;width:auto;}\"]}</_JSXStyle>,\n  className: \"jsx-627199744\"\n};\nconst query = {\n  customLogo: {\n    resource: 'staticContent/logo_banner'\n  }\n};\nconst pathExists = data => data && data.customLogo && data.customLogo.images && data.customLogo.images.png;\nexport const LogoImage = () => {\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  if (loading) {\n    return null;\n  }\n  let Logo;\n  if (!error && pathExists(data)) {\n    Logo = <img alt=\"Headerbar Logo\" src={data.customLogo.images.png} className={logoStyles.className} />;\n  } else {\n    Logo = <LogoIconWhite className={logoStyles.className} />;\n  }\n  return <div className={\"jsx-986495287\"}>\n            {Logo}\n\n            {logoStyles.styles}\n            <_JSXStyle id={\"986495287\"}>{[\"div.jsx-986495287{padding:4px;min-width:40px;max-width:250px;height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}\"]}</_JSXStyle>\n        </div>;\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { useConfig } from '@dhis2/app-runtime';\nimport React from 'react';\nimport { LogoImage } from './logo-image.jsx';\nexport const Logo = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  return <div data-test=\"headerbar-logo\" className={\"jsx-1870327818\"}>\n            <a href={baseUrl} className={\"jsx-1870327818\"}>\n                <LogoImage />\n            </a>\n\n            <_JSXStyle id={\"1870327818\"}>{[\"div.jsx-1870327818{box-sizing:border-box;min-inline-size:41px;max-block-size:40px;margin-block:0;margin-inline-end:8px;margin-inline-start:0;border-inline-end:1px solid rgba(32,32,32,0.15);}\", \"div.jsx-1870327818:hover{background-color:#104f7e;}\", \"a.jsx-1870327818,a.jsx-1870327818:hover,a.jsx-1870327818:focus,a.jsx-1870327818:active,a.jsx-1870327818:visited{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", \"a.jsx-1870327818:focus{outline:2px solid white;outline-offset:-2px;}\", \"a.jsx-1870327818:focus.jsx-1870327818:not(:focus-visible){outline:none;}\"]}</_JSXStyle>\n        </div>;\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, theme, spacers } from '@dhis2/ui-constants';\nimport { IconMessages24, IconMail24 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nfunction icon(kind) {\n  if (kind === 'message') {\n    return <IconMessages24 color={colors.white} />;\n  } else {\n    return <IconMail24 color={colors.white} />;\n  }\n}\nexport const NotificationIcon = ({\n  count = 0,\n  href,\n  kind,\n  dataTestId,\n  title,\n  'aria-label': ariaLabel\n}) => <a dir=\"ltr\" href={href} data-test={dataTestId} title={i18n.t(title)} aria-label={i18n.t(ariaLabel)} className={_JSXStyle.dynamic([[\"2282986459\", [spacers.dp8, spacers.dp12, theme.secondary500, theme.secondary700, colors.white, spacers.dp4]]]) + \" \" + (kind || \"\")}>\n        {icon(kind)}\n\n        {count > 0 && <span data-test={`${dataTestId}-count`} className={_JSXStyle.dynamic([[\"2282986459\", [spacers.dp8, spacers.dp12, theme.secondary500, theme.secondary700, colors.white, spacers.dp4]]])}>{count}</span>}\n\n        <_JSXStyle id={\"2282986459\"} dynamic={[spacers.dp8, spacers.dp12, theme.secondary500, theme.secondary700, colors.white, spacers.dp4]}>{[`a.__jsx-style-dynamic-selector{position:relative;margin:0;cursor:pointer;padding:0 ${spacers.dp8};height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}`, \"a.__jsx-style-dynamic-selector:focus{outline:2px solid white;outline-offset:-2px;}\", \"a.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}\", \"a.__jsx-style-dynamic-selector:hover{background:#104f7e;}\", \"a.__jsx-style-dynamic-selector:active{background:#0d4168;}\", `span.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:1;position:absolute;top:3px;inset-inline-end:2px;min-inline-size:16px;min-block-size:16px;border-radius:${spacers.dp12};box-shadow:0 1px 3px 0 rgba(0,0,0,0.1), 0 1px 2px 0 rgba(0,0,0,0.06);background-color:${theme.secondary500};border:1px solid ${theme.secondary700};color:${colors.white};text-shadow:0px 0px 2px rgba(0,0,0,0.5);font-size:12px;font-weight:500;line-height:15px;text-align:center;cursor:inherit;padding:0 ${spacers.dp4};}`]}</_JSXStyle>\n    </a>;\nNotificationIcon.propTypes = {\n  'aria-label': PropTypes.string.isRequired,\n  href: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  count: PropTypes.number,\n  dataTestId: PropTypes.string,\n  kind: PropTypes.oneOf(['interpretation', 'message'])\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { useConfig } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { joinPath } from './join-path.js';\nimport { NotificationIcon } from './notification-icon.jsx';\nconst hasAuthority = (userAuthorities, authId) => Array.isArray(userAuthorities) && userAuthorities.some(userAuthId => userAuthId === 'ALL' || userAuthId === authId);\nexport const Notifications = ({\n  interpretations,\n  messages,\n  userAuthorities\n}) => {\n  const {\n    baseUrl\n  } = useConfig();\n  return <div data-test=\"headerbar-notifications\" className={\"jsx-55705730\"}>\n            {hasAuthority(userAuthorities, 'M_dhis-web-interpretation') && <NotificationIcon count={interpretations} href={joinPath(baseUrl, 'dhis-web-interpretation')} kind=\"message\" dataTestId=\"headerbar-interpretations\" title={i18n.t('Interpretations')} aria-label={i18n.t('Interpretations')} />}\n\n            {hasAuthority(userAuthorities, 'M_dhis-web-messaging') && <NotificationIcon message=\"email\" count={messages} href={joinPath(baseUrl, 'dhis-web-messaging')} kind=\"interpretation\" dataTestId=\"headerbar-messages\" title={i18n.t('Messages')} aria-label={i18n.t('Messages')} />}\n\n            <_JSXStyle id={\"55705730\"}>{[\"div.jsx-55705730{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}\"]}</_JSXStyle>\n        </div>;\n};\nNotifications.propTypes = {\n  interpretations: PropTypes.number,\n  messages: PropTypes.number,\n  userAuthorities: PropTypes.arrayOf(PropTypes.string)\n};","import { colors, spacers } from '@dhis2/ui-constants';\nconst _defaultExport = [`.container.jsx-317836859{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#10436a;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:${colors.grey050};text-shadow:0px 0px 2px rgba(0,0,0,0.5);}`, `.container.badge.jsx-317836859{margin-inline-end:${spacers.dp8};padding:6px;border-radius:5px;font-size:13px;}`, `.container.bar.jsx-317836859{display:none;padding:0px ${spacers.dp4};min-height:24px;font-size:13px;}`, \"@media (max-width:480px){.container.badge.jsx-317836859{display:none;}.container.bar.jsx-317836859{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}\", \".unselectable.jsx-317836859{cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}\", `.info.jsx-317836859{margin-inline-end:${spacers.dp12};}`, `.info-dense.jsx-317836859{margin-inline-start:${spacers.dp12};font-size:12px;}`, `.icon.jsx-317836859{width:8px;min-width:8px;height:8px;border-radius:8px;margin-inline-end:${spacers.dp4};}`, `.icon.online.jsx-317836859{background-color:${colors.teal400};}`, `.icon.offline.jsx-317836859{background-color:transparent;border:1px solid ${colors.yellow300};}`, `.icon.reconnecting.jsx-317836859{background:${colors.grey300};-webkit-animation:fadeinout 2s linear infinite;-webkit-animation:fadeinout-jsx-317836859 2s linear infinite;animation:fadeinout-jsx-317836859 2s linear infinite;opacity:0;}`, \"@-webkit-keyframes fadeinout{50%.jsx-317836859{opacity:1;}}\", \"@-webkit-keyframes fadeinout-jsx-317836859{50%{opacity:1;}}\", \"@keyframes fadeinout-jsx-317836859{50%{opacity:1;}}\", \".label.jsx-317836859,.info.jsx-317836859{-webkit-letter-spacing:0.1px;-moz-letter-spacing:0.1px;-ms-letter-spacing:0.1px;letter-spacing:0.1px;}\"];\n_defaultExport.__hash = \"317836859\";\nexport default _defaultExport;","import _JSXStyle from \"styled-jsx/style\";\nimport { useDhis2ConnectionStatus, useOnlineStatusMessage } from '@dhis2/app-runtime';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport styles from './online-status.styles.js';\n\n/** A badge to display online/offline status in the header bar */\nexport function OnlineStatus({\n  dense\n}) {\n  const {\n    isConnected: online\n  } = useDhis2ConnectionStatus();\n  const {\n    onlineStatusMessage\n  } = useOnlineStatusMessage();\n  const displayStatus = online ? i18n.t('Online') : i18n.t('Offline');\n  return <div data-test=\"headerbar-online-status\" className={`jsx-${styles.__hash}` + \" \" + (cx('container', dense ? 'bar' : 'badge') || \"\")}>\n            {onlineStatusMessage && !dense && <span className={`jsx-${styles.__hash}` + \" \" + \"info unselectable\"}>{onlineStatusMessage}</span>}\n            <div className={`jsx-${styles.__hash}` + \" \" + (cx('icon', online ? 'online' : 'offline') || \"\")}></div>\n            <span className={`jsx-${styles.__hash}` + \" \" + \"label unselectable\"}>{displayStatus}</span>\n            {onlineStatusMessage && dense && <span className={`jsx-${styles.__hash}` + \" \" + \"info-dense unselectable\"}>\n                    {onlineStatusMessage}\n                </span>}\n            <_JSXStyle id={styles.__hash}>{styles}</_JSXStyle>\n        </div>;\n}\nOnlineStatus.propTypes = {\n  /** If true, displays as a sub-bar instead of a badge */\n  dense: PropTypes.bool\n};","import { useConfig } from '@dhis2/app-runtime';\nimport { useHeaderBarContext } from '../header-bar-context.jsx';\nexport const useDebugInfo = () => {\n  const {\n    appVersion: globalShellVersion,\n    systemInfo\n  } = useConfig();\n  const {\n    clientAppName,\n    clientAppVersion\n  } = useHeaderBarContext();\n  return {\n    app_name: clientAppName || null,\n    // Unlike global shell version, which comes from config, app version\n    // comes from the API and is expected to be a string\n    app_version: clientAppVersion || null,\n    global_shell_version: globalShellVersion?.full || null,\n    dhis2_version: systemInfo?.version || null,\n    dhis2_revision: systemInfo?.revision || null\n  };\n};\nexport const useFormattedDebugInfo = () => JSON.stringify(useDebugInfo(), undefined, 2);","import _JSXStyle from \"styled-jsx/style\";\nimport { colors } from '@dhis2/ui-constants';\nimport React from 'react';\nimport { useDebugInfo } from './use-debug-info.js';\nconst formatDebugInfoKey = key => {\n  const tokens = key.split('_');\n  return tokens.map(token => {\n    if (token.toLowerCase() === 'dhis2') {\n      return 'DHIS2';\n    } else {\n      return token[0].toUpperCase() + token.substr(1).toLowerCase();\n    }\n  }).join(' ');\n};\nexport function DebugInfoTable() {\n  const debugInfo = useDebugInfo();\n  return <table {...{\n    'data-test': 'dhis2-ui-headerbar-debuginfotable'\n  }} className={_JSXStyle.dynamic([[\"4076206425\", [colors.grey700]]])}>\n            <tbody className={_JSXStyle.dynamic([[\"4076206425\", [colors.grey700]]])}>\n                {Object.keys(debugInfo).map(key => <tr key={key} className={_JSXStyle.dynamic([[\"4076206425\", [colors.grey700]]])}>\n                        <td className={_JSXStyle.dynamic([[\"4076206425\", [colors.grey700]]]) + \" \" + \"debug-info-key\"}>\n                            {formatDebugInfoKey(key)}\n                        </td>\n                        <td className={_JSXStyle.dynamic([[\"4076206425\", [colors.grey700]]])}>{debugInfo[key]}</td>\n                    </tr>)}\n            </tbody>\n            <_JSXStyle id={\"4076206425\"} dynamic={[colors.grey700]}>{[`table.__jsx-style-dynamic-selector{white-space:pre-wrap;font-size:14px;line-height:1.2;color:${colors.grey700};font-famile:Menlo,Courier,monospace !important;}`, \"td.__jsx-style-dynamic-selector{padding-block:3px;padding-inline-end:16px;padding-inline-start:0;}\", \".debug-info-key.__jsx-style-dynamic-selector{font-weight:bold;}\"]}</_JSXStyle>\n        </table>;\n}","import { useAlert } from '@dhis2/app-runtime';\nimport { Button, ButtonStrip } from '@dhis2-ui/button';\nimport { Modal, ModalActions, ModalContent, ModalTitle } from '@dhis2-ui/modal';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { DebugInfoTable } from './debug-info-table.jsx';\nimport { useFormattedDebugInfo } from './use-debug-info.js';\nexport function DebugInfoModal({\n  onClose\n}) {\n  const debugInfo = useFormattedDebugInfo();\n  const {\n    show: showClipboardAlert\n  } = useAlert('Debug information copied to clipboard', {\n    duration: 3000\n  });\n  const copyDebugInfo = () => {\n    navigator.clipboard.writeText(debugInfo);\n    onClose();\n    showClipboardAlert();\n  };\n  return <Modal position=\"middle\" dataTest=\"dhis2-ui-headerbar-debuginfomodal\">\n            <ModalTitle>{i18n.t('Debug info')}</ModalTitle>\n            <ModalContent>\n                <DebugInfoTable />\n            </ModalContent>\n            <ModalActions>\n                <ButtonStrip end>\n                    <Button onClick={() => onClose()}>{i18n.t('Close')}</Button>\n                    <Button primary onClick={copyDebugInfo} dataTest=\"dhis2-ui-headerbar-debuginfomodal-copybutton\">\n                        {i18n.t('Copy debug info')}\n                    </Button>\n                </ButtonStrip>\n            </ModalActions>\n        </Modal>;\n}\nDebugInfoModal.propTypes = {\n  onClose: PropTypes.func.isRequired\n};","import { useEffect, useMemo } from 'react';\nexport const useOnDocClick = (containerRef, hide) => {\n  const onDocClick = useMemo(() => {\n    return evt => {\n      if (!containerRef.current) {\n        return null;\n      }\n      if (!containerRef.current.contains(evt.target)) {\n        hide();\n      }\n    };\n  }, [containerRef, hide]);\n  useEffect(() => {\n    document.addEventListener('click', onDocClick);\n    return () => {\n      document.removeEventListener('click', onDocClick);\n    };\n  }, [onDocClick]);\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { useDebugInfo } from './use-debug-info.js';\nexport const DebugInfoMenuItem = ({\n  hideProfileMenu,\n  showDebugInfoModal\n}) => {\n  const debugInfo = useDebugInfo();\n  const openDebugModal = () => {\n    hideProfileMenu();\n    showDebugInfoModal();\n  };\n  const debugInfoLabel = <div className={_JSXStyle.dynamic([[\"927755716\", [colors.grey700, spacers.dp4]]]) + \" \" + \"root\"}>\n            <div data-test=\"dhis2-ui-headerbar-instanceinfo\" className={_JSXStyle.dynamic([[\"927755716\", [colors.grey700, spacers.dp4]]]) + \" \" + \"instance-info version\"}>\n                {debugInfo.dhis2_version ? i18n.t('DHIS2 {{dhis2Version}}', {\n        dhis2Version: debugInfo.dhis2_version\n      }) : i18n.t('DHIS2 version unknown')}\n            </div>\n            <div data-test=\"dhis2-ui-headerbar-appinfo\" className={_JSXStyle.dynamic([[\"927755716\", [colors.grey700, spacers.dp4]]]) + \" \" + \"version\"}>\n                {debugInfo.app_name ? debugInfo.app_version ? `${debugInfo.app_name} ${debugInfo.app_version}` : i18n.t('{{appName}} version unknown', {\n        appName: debugInfo.app_name\n      }) : debugInfo.app_version ? i18n.t('App {{appVersion}}', {\n        appVersion: debugInfo.app_version\n      }) : i18n.t('App version unknown')}\n                {}\n            </div>\n            <_JSXStyle id={\"927755716\"} dynamic={[colors.grey700, spacers.dp4]}>{[`.root.__jsx-style-dynamic-selector{color:${colors.grey700};font-size:12px;line-height:15px;}`, `.instance-info.__jsx-style-dynamic-selector{margin-block-end:${spacers.dp4};word-break:break-all;}`, \".version.__jsx-style-dynamic-selector{word-break:break-all;}\", \".debug-info-menu-item.__jsx-style-dynamic-selector{padding:0;}\"]}</_JSXStyle>\n        </div>;\n  return <button onClick={openDebugModal} data-test=\"dhis2-ui-headerbar-debuginfo\" className={_JSXStyle.dynamic([[\"3363673692\", [spacers.dp4, spacers.dp8, spacers.dp12, colors.grey050, colors.grey300, colors.grey200]]])}>\n            {debugInfoLabel}\n            <_JSXStyle id={\"3363673692\"} dynamic={[spacers.dp4, spacers.dp8, spacers.dp12, colors.grey050, colors.grey300, colors.grey200]}>{[`button.__jsx-style-dynamic-selector{width:100%;margin-block-start:${spacers.dp4};padding:${spacers.dp8} ${spacers.dp12};background-color:${colors.grey050};border:none;border-block-start:1px solid ${colors.grey300};cursor:pointer;text-align:left;}`, `button.__jsx-style-dynamic-selector:hover{background-color:${colors.grey200};}`]}</_JSXStyle>\n        </button>;\n};\nDebugInfoMenuItem.propTypes = {\n  hideProfileMenu: PropTypes.func.isRequired,\n  showDebugInfoModal: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport { UserAvatar } from '@dhis2-ui/user-avatar';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst ProfileName = ({\n  children\n}) => <div data-test=\"headerbar-profile-username\" className={_JSXStyle.dynamic([[\"845331267\", [colors.grey900]]])}>\n        {children}\n        <_JSXStyle id={\"845331267\"} dynamic={[colors.grey900]}>{[`div.__jsx-style-dynamic-selector{font-size:13px;line-height:15px;font-weight:500;color:${colors.grey900};word-break:break-all;}`]}</_JSXStyle>\n    </div>;\nProfileName.propTypes = {\n  children: PropTypes.string\n};\nconst ProfileSubtitle = ({\n  children\n}) => <div data-test=\"headerbar-profile-user-subtitle\" className={_JSXStyle.dynamic([[\"4246584357\", [colors.grey600]]])}>\n        {children}\n\n        <_JSXStyle id={\"4246584357\"} dynamic={[colors.grey600]}>{[`div.__jsx-style-dynamic-selector{font-size:13px;line-height:15px;color:${colors.grey600};word-break:break-all;}`]}</_JSXStyle>\n    </div>;\nProfileSubtitle.propTypes = {\n  children: PropTypes.string\n};\nconst ProfileDetails = ({\n  name,\n  username\n}) => <div className={_JSXStyle.dynamic([[\"2360945697\", [spacers.dp4]]])}>\n        <ProfileName>{name}</ProfileName>\n        <ProfileSubtitle>{username}</ProfileSubtitle>\n\n        <_JSXStyle id={\"2360945697\"} dynamic={[spacers.dp4]}>{[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:${spacers.dp4};padding-block-start:1px;font-size:13px;font-weight:400;}`]}</_JSXStyle>\n    </div>;\nProfileDetails.propTypes = {\n  name: PropTypes.string,\n  username: PropTypes.string\n};\nexport const ProfileHeader = ({\n  name,\n  avatarId,\n  username\n}) => <div className={_JSXStyle.dynamic([[\"825049283\", [spacers.dp8, spacers.dp12, spacers.dp8, spacers.dp4, colors.grey100, colors.grey300]]])}>\n        <span className={_JSXStyle.dynamic([[\"825049283\", [spacers.dp8, spacers.dp12, spacers.dp8, spacers.dp4, colors.grey100, colors.grey300]]]) + \" \" + \"user-avatar\"}>\n            <UserAvatar avatarId={avatarId} name={name} dataTest=\"headerbar-profile-menu-icon\" medium />\n        </span>\n        <ProfileDetails name={name} username={username} />\n\n        <_JSXStyle id={\"825049283\"} dynamic={[spacers.dp8, spacers.dp12, spacers.dp8, spacers.dp4, colors.grey100, colors.grey300]}>{[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;overflow:hidden;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:${spacers.dp8};padding:${spacers.dp12} ${spacers.dp8};margin-block-end:${spacers.dp4};background:${colors.grey100};border-block-end:1px solid ${colors.grey300};}`, \"span.user-avatar.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\"]}</_JSXStyle>\n    </div>;\nProfileHeader.propTypes = {\n  avatarId: PropTypes.string,\n  name: PropTypes.string,\n  username: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { useHeaderBarContext } from '../header-bar-context.jsx';\nexport function UpdateNotification({\n  hideProfileMenu\n}) {\n  const {\n    updateAvailable,\n    onApplyAvailableUpdate\n  } = useHeaderBarContext();\n  const onClick = () => {\n    hideProfileMenu();\n    onApplyAvailableUpdate?.();\n  };\n  const updateNotificationLabel = <div className={_JSXStyle.dynamic([[\"3518315967\", [colors.grey700, colors.blue600]]]) + \" \" + \"root\"}>\n            <div className={_JSXStyle.dynamic([[\"3518315967\", [colors.grey700, colors.blue600]]]) + \" \" + \"badge\"} />\n            <div className={_JSXStyle.dynamic([[\"3518315967\", [colors.grey700, colors.blue600]]]) + \" \" + \"spacer\"} />\n            <div className={_JSXStyle.dynamic([[\"3518315967\", [colors.grey700, colors.blue600]]]) + \" \" + \"message\"}>\n                {i18n.t('App updates available  Click to reload')}\n            </div>\n            <_JSXStyle id={\"3518315967\"} dynamic={[colors.grey700, colors.blue600]}>{[`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:12px;line-height:15px;color:${colors.grey700};}`, `.badge.__jsx-style-dynamic-selector{display:inline-block;width:8px;height:8px;margin:0;margin-block-start:3px;border-radius:6px;background-color:${colors.blue600};-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}`, \".spacer.__jsx-style-dynamic-selector{display:inline-block;width:6px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \".message.__jsx-style-dynamic-selector{display:inline-block;text-align:start;}\"]}</_JSXStyle>\n        </div>;\n  return updateAvailable ? <button onClick={onClick} aria-label={i18n.t('App updates available  Click to reload')} data-test=\"dhis2-ui-headerbar-updatenotification\" className={_JSXStyle.dynamic([[\"325509486\", [colors.grey050, spacers.dp8, spacers.dp12, colors.grey700, colors.grey200]]])}>\n            {updateNotificationLabel}\n            <_JSXStyle id={\"325509486\"} dynamic={[colors.grey050, spacers.dp8, spacers.dp12, colors.grey700, colors.grey200]}>{[`button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:${colors.grey050};border:none;padding:${spacers.dp8} ${spacers.dp12};width:100%;cursor:pointer;font-size:12px;line-height:15px;color:${colors.grey700};}`, `button.__jsx-style-dynamic-selector:hover{background:${colors.grey200};}`]}</_JSXStyle>\n        </button> : null;\n}\nUpdateNotification.propTypes = {\n  hideProfileMenu: PropTypes.func.isRequired\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { clearSensitiveCaches, useConfig } from '@dhis2/app-runtime';\nimport { colors, elevations } from '@dhis2/ui-constants';\nimport { IconSettings16, IconMore16, IconLogOut16, IconUser16, IconQuestion16, IconLock16 } from '@dhis2/ui-icons';\nimport { Center } from '@dhis2-ui/center';\nimport { Layer } from '@dhis2-ui/layer';\nimport { CircularLoader } from '@dhis2-ui/loader';\nimport { MenuDivider, MenuItem } from '@dhis2-ui/menu';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport i18n from '../../../locales/index.js';\nimport { DebugInfoMenuItem } from '../debug-info/debug-info-menu-item.jsx';\nimport { joinPath } from '../join-path.js';\nimport { ProfileHeader } from './profile-header.jsx';\nimport { UpdateNotification } from './update-notification.jsx';\nconst LoadingMask = () => <Layer translucent disablePortal dataTest=\"headerbar-profile-menu-loading-mask\">\n        <Center>\n            <CircularLoader />\n        </Center>\n    </Layer>;\nconst ProfileContents = ({\n  name,\n  avatarId,\n  helpUrl,\n  hideProfileMenu,\n  showDebugInfoModal,\n  username\n}) => {\n  const {\n    baseUrl\n  } = useConfig();\n  const [loading, setLoading] = useState(false);\n  return <div className={_JSXStyle.dynamic([[\"1482415365\", [elevations.e300, colors.grey300]]])}>\n            <ProfileHeader name={name} username={username} avatarId={avatarId} />\n            <ul data-test=\"headerbar-profile-menu\" className={_JSXStyle.dynamic([[\"1482415365\", [elevations.e300, colors.grey300]]])}>\n                <MenuItem dense href={joinPath(baseUrl, 'dhis-web-user-profile/#/settings')} label={i18n.t('Settings')} value=\"settings\" icon={<IconSettings16 color={colors.grey600} />} />\n                <MenuItem dense href={joinPath(baseUrl, 'dhis-web-user-profile/#/account')} label={i18n.t('Account security')} value=\"account\" icon={<IconLock16 color={colors.grey600} />} />\n                <MenuItem dense href={joinPath(baseUrl, 'dhis-web-user-profile/#/profile')} label={i18n.t('My profile')} value=\"account\" icon={<IconUser16 color={colors.grey600} />} />\n                <MenuDivider dense />\n                {helpUrl && <MenuItem dense href={helpUrl} label={i18n.t('Help')} value=\"help\" icon={<IconQuestion16 color={colors.grey600} />} />}\n                <MenuItem dense href={joinPath(baseUrl, 'dhis-web-user-profile/#/aboutPage')} label={i18n.t('System info')} value=\"about\" icon={<IconMore16 color={colors.grey600} />} />\n                <MenuDivider dense />\n                <MenuItem dense href={joinPath(baseUrl, 'dhis-web-commons-security/logout.action')}\n      // NB: By MenuItem implementation, this callback\n      // overwrites default navigation behavior but maintains\n      // the href attribute\n      onClick={async () => {\n        setLoading(true);\n        await clearSensitiveCaches();\n        setLoading(false);\n        window.location.assign(joinPath(baseUrl, 'dhis-web-commons-security/logout.action'));\n      }} label={i18n.t('Log out')} value=\"logout\" icon={<IconLogOut16 color={colors.grey600} />} />\n                <DebugInfoMenuItem hideProfileMenu={hideProfileMenu} showDebugInfoModal={showDebugInfoModal} />\n                <UpdateNotification hideProfileMenu={hideProfileMenu} />\n            </ul>\n\n            {loading && <LoadingMask />}\n\n            <_JSXStyle id={\"1482415365\"} dynamic={[elevations.e300, colors.grey300]}>{[`div.__jsx-style-dynamic-selector{width:100%;padding:0;background:white;box-shadow:${elevations.e300};border-radius:3px;border:1px solid ${colors.grey300};overflow:auto;}`, \"ul.__jsx-style-dynamic-selector{padding:0;margin:0;}\", \"a.__jsx-style-dynamic-selector,a.__jsx-style-dynamic-selector:hover,a.__jsx-style-dynamic-selector:focus,a.__jsx-style-dynamic-selector:active,a.__jsx-style-dynamic-selector:visited{-webkit-text-decoration:none;text-decoration:none;display:block;}\"]}</_JSXStyle>\n        </div>;\n};\nProfileContents.propTypes = {\n  hideProfileMenu: PropTypes.func.isRequired,\n  showDebugInfoModal: PropTypes.func.isRequired,\n  avatarId: PropTypes.string,\n  helpUrl: PropTypes.string,\n  name: PropTypes.string,\n  username: PropTypes.string\n};\nexport const ProfileMenu = ({\n  ...props\n}) => <div data-test=\"headerbar-profile-menu\" className={\"jsx-3924623997\"}>\n        <ProfileContents {...props} />\n        <_JSXStyle id={\"3924623997\"}>{[\"div.jsx-3924623997{z-index:10000;position:absolute;inset-inline-end:4px;width:320px;}\"]}</_JSXStyle>\n    </div>;\nProfileMenu.propTypes = {\n  hideProfileMenu: PropTypes.func.isRequired,\n  showDebugInfoModal: PropTypes.func.isRequired,\n  avatarId: PropTypes.string,\n  helpUrl: PropTypes.string,\n  name: PropTypes.string,\n  username: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { spacers } from '@dhis2/ui-constants';\nimport { UserAvatar } from '@dhis2-ui/user-avatar';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useRef, useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { DebugInfoModal } from './debug-info/debug-info-modal.jsx';\nimport { useOnDocClick } from './profile/use-on-doc-click.js';\nimport { ProfileMenu } from './profile-menu/index.js';\nconst Profile = ({\n  name,\n  avatarId,\n  helpUrl,\n  username\n}) => {\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const [showDebugInfoModal, setShowDebugInfoModal] = useState(false);\n  const hideProfileMenu = useCallback(() => setShowProfileMenu(false), [setShowProfileMenu]);\n  const toggleProfileMenu = useCallback(() => setShowProfileMenu(show => !show), [setShowProfileMenu]);\n  const containerRef = useRef(null);\n  useOnDocClick(containerRef, hideProfileMenu);\n  return <div ref={containerRef} data-test=\"headerbar-profile\" className={_JSXStyle.dynamic([[\"2220509443\", [spacers.dp8]]]) + \" \" + \"headerbar-profile\"}>\n            <button onClick={toggleProfileMenu} title={i18n.t('header bar profile')} aria-label={i18n.t('header bar profile')} className={_JSXStyle.dynamic([[\"2220509443\", [spacers.dp8]]]) + \" \" + \"headerbar-profile-btn\"}>\n                <UserAvatar avatarId={avatarId} name={name} dataTest=\"headerbar-profile-icon\" small />\n            </button>\n\n            {showProfileMenu && <ProfileMenu avatarId={avatarId} name={name} username={username} helpUrl={helpUrl} hideProfileMenu={hideProfileMenu} showDebugInfoModal={() => {\n      setShowDebugInfoModal(true);\n    }} />}\n            {showDebugInfoModal && <DebugInfoModal onClose={() => {\n      setShowDebugInfoModal(false);\n    }} />}\n\n            <_JSXStyle id={\"2220509443\"} dynamic={[spacers.dp8]}>{[\".headerbar-profile.__jsx-style-dynamic-selector{position:relative;height:100%;}\", `.headerbar-profile-btn.__jsx-style-dynamic-selector{background:transparent;padding:${spacers.dp8};border:0;cursor:pointer;}`, \".headerbar-profile-btn.__jsx-style-dynamic-selector:focus{outline:2px solid white;outline-offset:-2px;}\", \".headerbar-profile-btn.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}\", \".headerbar-profile-btn.__jsx-style-dynamic-selector:hover{background:#104f7e;}\", \".headerbar-profile-btn.__jsx-style-dynamic-selector:active{background:#0d4168;}\"]}</_JSXStyle>\n        </div>;\n};\nProfile.propTypes = {\n  name: PropTypes.string.isRequired,\n  avatarId: PropTypes.string,\n  helpUrl: PropTypes.string,\n  username: PropTypes.string\n};\nexport default Profile;","import _JSXStyle from \"styled-jsx/style\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const Title = ({\n  app,\n  instance\n}) => <div data-test=\"headerbar-title\" className={\"jsx-1383520741\"}>\n        {app ? `${instance} - ${app}` : `${instance}`}\n\n        <_JSXStyle id={\"1383520741\"}>{[\"div.jsx-1383520741{overflow:hidden;text-overflow:ellipsis;font-size:13px;-webkit-letter-spacing:0.01em;-moz-letter-spacing:0.01em;-ms-letter-spacing:0.01em;letter-spacing:0.01em;text-shadow:0px 0px 2px rgba(0,0,0,0.5);white-space:nowrap;}\"]}</_JSXStyle>\n    </div>;\nTitle.propTypes = {\n  app: PropTypes.string,\n  instance: PropTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\nimport { useDataQuery, useConfig } from '@dhis2/app-runtime';\nimport { colors } from '@dhis2/ui-constants';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport i18n from '../../locales/index.js';\nimport CommandPalette from './command-palette/command-palette.jsx';\nimport { CommandPaletteContextProvider } from './command-palette/context/command-palette-context.jsx';\nimport { APP } from './command-palette/utils/constants.js';\nimport { HeaderBarContextProvider } from './header-bar-context.jsx';\nimport { joinPath } from './join-path.js';\nimport { Logo } from './logo.jsx';\nimport { Notifications } from './notifications.jsx';\nimport { OnlineStatus } from './online-status.jsx';\nimport Profile from './profile.jsx';\nimport { Title } from './title.jsx';\nconst query = {\n  title: {\n    resource: 'systemSettings/applicationTitle'\n  },\n  help: {\n    resource: 'systemSettings/helpPageLink'\n  },\n  user: {\n    resource: 'me',\n    params: {\n      fields: ['authorities', 'avatar', 'name', 'settings', 'username']\n    }\n  },\n  apps: {\n    resource: 'action::menu/getModules'\n  },\n  notifications: {\n    resource: 'me/dashboard'\n  }\n};\nexport const HeaderBar = ({\n  appName,\n  appVersion,\n  className,\n  updateAvailable,\n  onApplyAvailableUpdate\n}) => {\n  const {\n    appName: configAppName,\n    baseUrl,\n    pwaEnabled\n  } = useConfig();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  const apps = useMemo(() => {\n    const getPath = path => path.startsWith('http:') || path.startsWith('https:') ? path : joinPath(baseUrl, 'api', path);\n    return data?.apps.modules.map(app => ({\n      ...app,\n      type: APP,\n      icon: getPath(app.icon),\n      action: () => {\n        window.location.href = getPath(app.defaultAction);\n      }\n    }));\n  }, [data, baseUrl]);\n\n  // fetch commands\n  const commands = [];\n\n  // fetch shortcuts\n  const shortcuts = [];\n\n  // See https://jira.dhis2.org/browse/LIBS-180\n  if (!loading && !error) {\n    // TODO: This will run every render which is probably wrong!\n    // Also, setting the global locale shouldn't be done in the headerbar\n    const locale = data.user.settings.keyUiLocale || 'en';\n    i18n.setDefaultNamespace('default');\n    i18n.changeLanguage(locale);\n  }\n  return <HeaderBarContextProvider updateAvailable={updateAvailable} onApplyAvailableUpdate={onApplyAvailableUpdate} clientAppName={appName} clientAppVersion={appVersion}>\n            <header className={_JSXStyle.dynamic([[\"3460341643\", [colors.white]]]) + \" \" + (className || \"\")}>\n                <div className={_JSXStyle.dynamic([[\"3460341643\", [colors.white]]]) + \" \" + \"main\"}>\n                    {!loading && !error && <>\n                            <Logo />\n\n                            <Title app={appName || configAppName} instance={data.title.applicationTitle} />\n\n                            <div className={_JSXStyle.dynamic([[\"3460341643\", [colors.white]]]) + \" \" + \"right-control-spacer\"} />\n\n                            {pwaEnabled && <OnlineStatus />}\n\n                            <Notifications interpretations={data.notifications.unreadInterpretations} messages={data.notifications.unreadMessageConversations} userAuthorities={data.user.authorities} />\n                            <CommandPaletteContextProvider>\n                                <CommandPalette apps={apps} commands={commands} shortcuts={shortcuts} />\n                            </CommandPaletteContextProvider>\n                            <Profile name={data.user.name} username={data.user.username} avatarId={data.user.avatar?.id} helpUrl={data.help.helpPageLink} />\n                        </>}\n                </div>\n\n                {pwaEnabled && !loading && !error && <OnlineStatus dense />}\n\n                <_JSXStyle id={\"3460341643\"} dynamic={[colors.white]}>{[`.main.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:#165c92;color:${colors.white};height:40px;}`, \".right-control-spacer.__jsx-style-dynamic-selector{margin-inline-start:auto;}\"]}</_JSXStyle>\n            </header>\n        </HeaderBarContextProvider>;\n};\nHeaderBar.propTypes = {\n  appName: PropTypes.string,\n  appVersion: PropTypes.string,\n  className: PropTypes.string,\n  updateAvailable: PropTypes.bool,\n  onApplyAvailableUpdate: PropTypes.func\n};","import { usePWAUpdateState } from '@dhis2/pwa';\nimport PropTypes from 'prop-types';\nimport React, { useMemo, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useClientPWAUpdateState } from '../lib/clientPWAUpdateState.jsx';\nimport { ConfirmUpdateModal } from './ConfirmUpdateModal.tsx';\nimport { HeaderBar } from './header-bar/index.js';\nconst getAppDisplayName = (appName, modules) => {\n  // todo: check this out if core apps get a different naming scheme\n  return modules.find(m => m.name === appName || m.name === 'dhis-web-' + appName)?.displayName;\n};\n\n// Currently, not all core apps are included in the api/apps response:\n// need to check /api/apps and /dhis-web-apps/apps-bundle.json\nconst getAppVersion = (appName, apps, bundledApps) => {\n  const parsedAppName = appName.replace('dhis-web-', '');\n  // First\n  return apps.find(a => a.short_name === parsedAppName)?.version || bundledApps.find(ba => ba.name === parsedAppName)?.version;\n};\n\n// todo:\n// type PWAUpdateState = {\n//     updateAvailable: boolean\n//     confirmReload: () => void\n//     confirmationRequired: boolean\n//     clientsCount: number | null\n//     onConfirmUpdate: () => void\n//     onCancelUpdate: () => void\n// }\n\n/**\n * Copied from ConnectedHeaderBar in app adapter:\n * Check for SW updates or a first activation, displaying an update notification\n * message in the HeaderBar profile menu. Does this both for this app itself,\n * and for the client app.\n *\n * When an update is applied, if there are multiple tabs of this app open,\n * there's anadditional warning step because all clients of the service worker\n * will reload when there's an update, which may cause data loss.\n */\nexport function ConnectedHeaderBar({\n  appsInfoQuery\n}) {\n  const params = useParams();\n  const clientPWAUpdateState = useClientPWAUpdateState();\n  const selfPWAUpdateState = usePWAUpdateState();\n  const appName = useMemo(() => {\n    if (!params.appName || !appsInfoQuery.data) {\n      // `undefined` defaults to app title in header bar component, i.e. \"Global Shell\"\n      return;\n    }\n    if (appsInfoQuery.data) {\n      return getAppDisplayName(params.appName, appsInfoQuery.data.appMenu.modules);\n    }\n    return params.appName;\n  }, [appsInfoQuery.data, params.appName]);\n\n  // Set new displayname to page title when it updates\n  useEffect(() => {\n    if (appName) {\n      document.title = `${appName} | DHIS2`;\n    }\n  }, [appName]);\n  const appVersion = useMemo(() => {\n    if (!params.appName || !appsInfoQuery.data) {\n      return;\n    }\n    return getAppVersion(params.appName, appsInfoQuery.data.apps, appsInfoQuery.data.bundledApps);\n  }, [appsInfoQuery.data, params.appName]);\n\n  // For now, the header bar can only show one \"Update available\" badge, so\n  // choose the right values based on which update(s) is/are available:\n  // By default, use client's PWA update state. If there's an update available for\n  // the global shell, though, the self PWA update state takes precedent\n  const {\n    updateAvailable,\n    confirmReload,\n    confirmationRequired,\n    clientsCount,\n    onConfirmUpdate,\n    onCancelUpdate\n  } = selfPWAUpdateState.updateAvailable ? selfPWAUpdateState : clientPWAUpdateState;\n  return <>\n            <HeaderBar className={'global-shell-header'} appName={appName} appVersion={appVersion} updateAvailable={updateAvailable} onApplyAvailableUpdate={confirmReload} />\n            {confirmationRequired ? <ConfirmUpdateModal clientsCount={clientsCount} onConfirm={onConfirmUpdate} onCancel={onCancelUpdate} /> : null}\n        </>;\n}\nConnectedHeaderBar.propTypes = {\n  appsInfoQuery: PropTypes.object\n};","import React from 'react';\n\n// PLACEHOLDER plugin error component (e.g. for dealing with missing/inaccessible plugin)\n// note that d2-i18n does not work with typescript projects, so we cannot currently translate\n\nconst PluginError = _ref => {\n  let {\n    missingEntryPoint,\n    appShortName\n  } = _ref;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, \"Plugin unavailable\"), missingEntryPoint ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, `You do not have access to the requested plugin ${appShortName}, or it is not installed`)) : null);\n};\nexport default PluginError;","import { AlertsManagerContext } from '@dhis2/app-service-alerts';\nimport { useDataQuery } from '@dhis2/app-service-data';\nimport postRobot from 'post-robot';\nimport React, { useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport PluginError from './PluginError';\nconst appsInfoQuery = {\n  apps: {\n    resource: 'apps'\n  }\n};\n\n// sample logic subject to change depending on actual endpoint details\nconst getPluginEntryPoint = _ref => {\n  var _apps$find;\n  let {\n    apps,\n    appShortName\n  } = _ref;\n  return (_apps$find = apps.find(_ref2 => {\n    let {\n      short_name\n    } = _ref2;\n    return short_name && short_name === appShortName;\n  })) === null || _apps$find === void 0 ? void 0 : _apps$find.pluginLaunchUrl;\n};\nexport const Plugin = _ref3 => {\n  let {\n    pluginSource,\n    pluginShortName,\n    onLoad,\n    height,\n    width,\n    className,\n    clientWidth,\n    ...propsToPassNonMemoized\n  } = _ref3;\n  const iframeRef = useRef(null);\n  const {\n    add: alertsAdd\n  } = useContext(AlertsManagerContext);\n  const {\n    data\n  } = useDataQuery(appsInfoQuery);\n  const pluginEntryPoint = pluginSource !== null && pluginSource !== void 0 ? pluginSource : getPluginEntryPoint({\n    apps: (data === null || data === void 0 ? void 0 : data.apps) || [],\n    appShortName: pluginShortName\n  });\n  const [inErrorState, setInErrorState] = useState(false);\n  // These are height and width values to be set by callbacks passed to the\n  // plugin (these default sizes will be quickly overwritten by the plugin).\n  // In order to behave like a normal block element, by default, the height\n  // will be set by plugin contents, and this state will be used\n  const [resizedHeight, setPluginHeight] = useState(150);\n  // ...and by default, plugin width will be defined by the container\n  // (width = 100%), so this state won't be used unless the `clientWidth`\n  // prop is used to have plugin width defined by plugin contents\n  const [resizedWidth, setPluginWidth] = useState(500);\n\n  // since we do not know what props are passed, the dependency array has to be keys of whatever is standard prop\n  // we exclude height/width from memoization to avoid updates for these properties\n  const memoizedPropsToPass = useMemo(() => propsToPassNonMemoized, /* eslint-disable react-hooks/exhaustive-deps */\n  [...Object.keys(propsToPassNonMemoized).sort().map(k => propsToPassNonMemoized[k])]\n  /* eslint-enable react-hooks/exhaustive-deps */);\n\n  // Used to track changes to the plugin source\n  const prevEntryPointRef = useRef(pluginEntryPoint);\n  // Becomes `true` when we get the first message from a plugin, so we know\n  // it's ready to send messages to\n  const communicationReceivedRef = useRef(false);\n\n  // If plugin source changes, reset communicationReceived so new listeners\n  // can be set up on the new window. This also helps avoid sending prop\n  // updates meant for the new window to the old one\n  useEffect(() => {\n    if (pluginEntryPoint !== prevEntryPointRef.current) {\n      communicationReceivedRef.current = false;\n      prevEntryPointRef.current = pluginEntryPoint;\n    }\n  }, [pluginEntryPoint]);\n\n  // Tracking these as booleans means they can be used as dependencies for\n  // the useEffect to update props without triggering updates everytime their\n  // string/number value changes\n  const heightIsContentDriven = !height;\n  const widthIsContentDriven = !width && clientWidth;\n\n  // Set up communication listeners: if we haven't gotten a message from the\n  // plugin, set up a listener for its request for initial props. If we have\n  // received communication from the plugin, then on any props update, we can\n  // send them to the plugin\n  useEffect(() => {\n    if (!iframeRef.current) {\n      return;\n    }\n    const iframeProps = {\n      ...memoizedPropsToPass,\n      alertsAdd,\n      // If a dimension is either specified or container-driven,\n      // don't send a resize callback to the plugin. The plugin can\n      // use the presence or absence of these callbacks to determine\n      // how to handle sizing inside\n      setPluginHeight: heightIsContentDriven ? setPluginHeight : null,\n      setPluginWidth: widthIsContentDriven ? setPluginWidth : null,\n      setInErrorState,\n      clientWidth\n    };\n\n    // If iframe has not sent initial request, set up a listener\n    // (this will still be set up if plugin needs to reload)\n    if (!communicationReceivedRef.current && !inErrorState) {\n      const listener = postRobot.on('getPropsFromParent',\n      // listen for messages coming only from the iframe rendered by this component\n      {\n        window: iframeRef.current.contentWindow\n      }, () => {\n        communicationReceivedRef.current = true;\n        return iframeProps;\n      });\n      return () => listener.cancel();\n    }\n\n    // If iframe has sent initial request, send new props\n    if (communicationReceivedRef.current && iframeRef.current.contentWindow && !inErrorState) {\n      postRobot.send(iframeRef.current.contentWindow, 'updated', iframeProps).catch(err => {\n        // log postRobot errors, but do not bubble them up\n        console.error(err);\n      });\n    }\n  }, [memoizedPropsToPass, inErrorState, alertsAdd, heightIsContentDriven, widthIsContentDriven, clientWidth]);\n  if (data && !pluginEntryPoint) {\n    return /*#__PURE__*/React.createElement(PluginError, {\n      missingEntryPoint: true,\n      appShortName: pluginShortName\n    });\n  }\n  if (!pluginEntryPoint) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null);\n  }\n  return /*#__PURE__*/React.createElement(\"iframe\", {\n    ref: iframeRef,\n    src: pluginEntryPoint\n    // Styles can be added via className. Sizing styles will take\n    // precedence over the `width` and `height` props\n    ,\n    className: className\n    // If clientWidth is set, then we want width to be set by plugin\n    // (resizedWidth). Thereafter, if a width is specified, use that\n    // Otherwise, use a specified width, or 100% by default\n    ,\n    width: clientWidth ? resizedWidth : width !== null && width !== void 0 ? width : '100%',\n    height: height !== null && height !== void 0 ? height : resizedHeight,\n    style: {\n      border: 'none'\n    },\n    onLoad: onLoad\n  });\n};","import { useAlert, useConfig } from '@dhis2/app-runtime';\n// eslint-disable-next-line import/no-unresolved\nimport { Plugin } from '@dhis2/app-runtime/experimental';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { useClientOfflineInterface } from '../lib/clientPWAUpdateState.jsx';\nimport i18n from '../locales/index.js';\nimport styles from './PluginLoader.module.css';\n\n// Doesn't work on maintenance app\n// Doesn't work cross-domain\nconst injectHeaderbarHidingStyles = event => {\n  try {\n    const iframe = event?.target || document.querySelector('iframe');\n    const doc = iframe.contentDocument;\n    const styleElement = doc.createElement('style');\n    styleElement.textContent =\n    // adapter bar with directional styles\n    'div.app-shell-adapter > div > header,\\n' +\n    // older adapter\n    'div.app-shell-adapter > header { display: none; }';\n    doc.head.appendChild(styleElement);\n  } catch (err) {\n    // todo: hide global shell header bar here, in favor of app's\n    console.error('Failed to apply styles to the client app to hide its header bar. ' + 'This could be due to the client app being hosted on a different domain.', err);\n  }\n};\n\n// todo: this is kinda duplicated between here and the header bar\nconst getAppDefaultAction = (appName, modules) => {\n  // If core apps get a different naming scheme, this needs revisiting\n  return modules.find(m => m.name === appName || m.name === 'dhis-web-' + appName)?.defaultAction;\n};\n\n// todo: why is there a request to /apps/undefined?redirect=false\nconst getPluginEntrypoint = async (appName, modules /* baseUrl */) => {\n  const defaultAction = getAppDefaultAction(appName, modules);\n\n  // todo: app.html handling ----\n  // todo: this could be better if this can be detected from app entrypoints API\n  // const defaultAppUrl = new URL(defaultAction, baseUrl)\n  // const pluginifiedAppUrl = new URL('./app.html', defaultAppUrl)\n\n  // Start by trying to load pluginified app, `app.html`\n  // const pluginifiedAppResponse = await fetch(pluginifiedAppUrl)\n  // if (pluginifiedAppResponse.ok) {\n  //     return pluginifiedAppUrl.href\n  // }\n\n  // If pluginified app is not found, fall back to app root\n  return defaultAction;\n};\nconst watchForHashRouteChanges = event => {\n  const iframe = event?.target || document.querySelector('iframe');\n  iframe.contentWindow.addEventListener('popstate', event => {\n    // Note: this updates the pluginSource on the Plugin component;\n    // check if this causes rerenders. Seems okay in a Dashboard\n    window.location.hash = event.target.location.hash;\n  });\n};\n\n/**\n * If the iframe loads a page that is different from the pluginSource given to\n * it, navigate the whole page there. This should handle two cases:\n * 1. The navigation is outside the DHIS2 instance: we want to leave the shell\n * (this requires access to that page's contentWindow though, which is checked\n * in the onLoad handler)\n * 2. The navigation is to another app: the backend will reroute to the global\n * shell with the right app\n * 3. The backend redirects to the login page: send the app there\n *\n * This should be called on `load` events in the iframe, which indicates some\n * kind of page navigation; this won't trigger on hash route changes.\n *\n * Returns `true` if navigating\n */\nconst handleExternalNavigation = (iframeLoadEvent, pluginHref) => {\n  const iframeHref = iframeLoadEvent.target.contentDocument?.location?.href;\n  if (iframeHref !== pluginHref) {\n    window.location.href = iframeHref;\n    return true;\n  }\n};\nexport const PluginLoader = ({\n  appsInfoQuery\n}) => {\n  const params = useParams();\n  const location = useLocation();\n  const {\n    baseUrl\n  } = useConfig();\n  const [pluginEntrypoint, setPluginEntrypoint] = React.useState();\n  const [rerenderKey, setRerenderKey] = React.useState(0);\n  const {\n    show: showNavigationWarning\n  } = useAlert(i18n.t('Unable to load the requested page from DHIS2. Returned to previous page.'), {\n    warning: true\n  });\n  const initClientOfflineInterface = useClientOfflineInterface();\n\n  // test prop messaging and updates\n  const [color, setColor] = React.useState('blue');\n  const toggleColor = React.useCallback(() => setColor(prev => prev === 'blue' ? 'red' : 'blue'), []);\n\n  // todo: add query string to entrypoint (e.g. maps /dhis-web-maps/?currentAnalyticalObject=true)\n  // Can use `urlObject.searchParams.append('redirect', 'false')`\n  // (or is this a backend thing?)\n  React.useEffect(() => {\n    if (!appsInfoQuery.data) {\n      return;\n    }\n    // Performed async to test for index/app entrypoint\n    // todo: this could be better if this can be detected from app entrypoints API\n    const asyncWork = async () => {\n      // for testing: params.appName === 'localApp' ? 'http://localhost:3001/app.html'\n      const newPluginEntrypoint = await getPluginEntrypoint(params.appName, appsInfoQuery.data.appMenu.modules, baseUrl);\n      setPluginEntrypoint(newPluginEntrypoint);\n    };\n    asyncWork();\n  }, [params.appName, baseUrl, appsInfoQuery.data]);\n  const pluginHref = React.useMemo(() => {\n    // An absolute URL helps compare to the location inside the iframe:\n    const pluginUrl = new URL(pluginEntrypoint, window.location);\n    pluginUrl.hash = location.hash;\n    pluginUrl.search = location.search;\n    pluginUrl.searchParams.append('redirect', 'false');\n    return pluginUrl.href;\n  }, [pluginEntrypoint, location.hash, location.search]);\n  const handleLoad = React.useCallback(event => {\n    // If we can't access the new page's Document, this is a cross-domain page.\n    // Disallow that; return to previous plugin state.\n    // todo: can cause an infinite reload if the current pluginHref loads\n    // an entirely broken page -- this is a rare case though; one example is\n    // a PWA app where the precache has been deleted. 404s are fine.\n    if (!event.target.contentDocument) {\n      setRerenderKey(k => k + 1);\n      showNavigationWarning();\n      console.error('The linked page is not accessible by the DHIS2 global shell; returned to previous plugin state. ' + 'This link should be opened in a new tab instead');\n      return;\n    }\n    if (handleExternalNavigation(event, pluginHref)) {\n      return;\n    }\n    injectHeaderbarHidingStyles(event);\n    watchForHashRouteChanges(event);\n    initClientOfflineInterface({\n      clientWindow: event.target.contentWindow\n    });\n  }, [pluginHref, showNavigationWarning, initClientOfflineInterface]);\n  if (!pluginHref) {\n    return 'Loading...'; // todo\n  }\n  return <Plugin className={styles.flexGrow}\n  // pass URL hash down to the client app\n  pluginSource={pluginHref} onLoad={handleLoad} key={rerenderKey}\n  // Other props\n  // (for testing:)\n  color={color} toggleColor={toggleColor} />;\n};\nPluginLoader.propTypes = {\n  appsInfoQuery: PropTypes.object\n};","import { useConfig, useDataQuery } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { BrowserRouter, Routes, Route, Link, Outlet } from 'react-router-dom';\nimport styles from './App.module.css';\nimport { ConnectedHeaderBar } from './components/ConnectedHeaderbar.jsx';\nimport { PluginLoader } from './components/PluginLoader.jsx';\nimport { ClientPWAProvider } from './lib/clientPWAUpdateState.jsx';\nconst APPS_INFO_QUERY = {\n  appMenu: {\n    resource: 'apps/menu'\n  },\n  apps: {\n    resource: 'apps'\n  },\n  // Want to get versions of installed apps, i.e. /dhis-web-apps/apps-bundle.json\n  // need to extend app-runtime to get that\n  bundledApps: {\n    resource: 'legacy::bundledApps'\n  }\n};\nconst Layout = ({\n  appsInfoQuery\n}) => {\n  return <div className={styles.container}>\n            <ConnectedHeaderBar appsInfoQuery={appsInfoQuery} />\n            <Outlet />\n        </div>;\n};\nLayout.propTypes = {\n  appsInfoQuery: PropTypes.object\n};\nconst MyApp = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const appsInfoQuery = useDataQuery(APPS_INFO_QUERY);\n\n  // todo: work on this to get the right URL when landing on an app URL\n  const basename = React.useMemo(() => {\n    if (process.env.NODE_ENV === 'development') {\n      return; // undefined is okay\n    }\n    return new URL(baseUrl).pathname;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // todo: would be nice to get appInfo here, but useParams().appName is only available inside routes\n  // (see getAppDisplayName in ConnectedHeaderBar.jsx and getAppDefaultAction in PluginLoader.jsx)\n\n  return <ClientPWAProvider>\n            <BrowserRouter basename={basename}>\n                <Routes>\n                    <Route element={<Layout appsInfoQuery={appsInfoQuery} />}>\n                        <Route\n          // todo: remove when done testing\n          path=\"*\" element={<Link to=\"/apps/localApp\">Local App</Link>} />\n                        <Route path=\"/apps/:appName\" element={<PluginLoader appsInfoQuery={appsInfoQuery} />} />\n                    </Route>\n                </Routes>\n            </BrowserRouter>\n        </ClientPWAProvider>;\n};\nexport default MyApp;"],"names":["SvgApps16","_ref","color","dataTest","ariaLabel","React.createElement","PropTypes","SvgArrowLeft16","SvgLock16","SvgLogOut16","SvgMore16","SvgQuestion16","SvgRedo16","SvgSearch16","SvgSettings16","SvgTerminalWindow16","SvgUser16","testSWAvailable","targetWindow","msg","PWAUpdateOfflineInterface","_ref2","EventEmitter","handleSWMessage","event","type","payload","_ref3","onNewSW","checkForUpdates","resolve","reject","registration","newestSW","swMsgs","ClientPWAUpdateStateContext","createContext","ClientOfflineInterfaceContext","ClientPWAProvider","children","offlineInterface","setOfflineInterface","useState","updateAvailable","setUpdateAvailable","clientsCount","setClientsCount","onConfirmUpdate","useCallback","useNewSW","onCancelUpdate","confirmReload","getClientsInfo","then","catch","reason","console","warn","confirmationRequired","clientPWAUpdateState","useMemo","initClientOfflineInterface","clientWindow","newOfflineInterface","checkForNewSW","jsx","propTypes","node","useClientPWAUpdateState","useContext","useClientOfflineInterface","namespace","i18n","addResources","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","ConfirmUpdateModal","onCancel","onConfirm","jsxs","Modal","ModalTitle","t","ModalContent","n","ModalActions","ButtonStrip","Button","HOME_VIEW","ALL_APPS_VIEW","ALL_COMMANDS_VIEW","ALL_SHORTCUTS_VIEW","MOBILE_GRID_COLUMNS","DESKTOP_GRID_COLUMNS","MIN_APPS_NUM","MIN_COMMANDS_NUM","MIN_SHORTCUTS_NUM","ACTION","APP","COMMAND","FILTERABLE_ACTION","commandPaletteContext","CommandPaletteContextProvider","filter","setFilter","currentView","setCurrentView","contextValue","useCommandPaletteContext","joinPath","parts","part","map","replace","join","useAvailableActions","apps","shortcuts","commands","baseUrl","useConfig","logoutURL","logoutAction","href","clearSensitiveCaches","location","assign","switchViewAction","actions","actionsArray","length","push","name","icon","IconApps16","colors","grey700","action","IconTerminalWindow16","IconRedo16","IconLogOut16","IconArrowLeft16","escapeRegExpCharacters","text","filterItemsArray","items","displayName","formattedItemName","toLowerCase","formattedFilter","match","useFilter","searchableActions","filteredApps","filteredCommands","filteredShortcuts","filteredActions","concat","isSameArray","firstArray","secondArray","every","value","index","useIsMobile","hasGrid","isMobile","setIsMobile","window","innerWidth","useEffect","handleResize","addEventListener","removeEventListener","constructGrid","columns","reduce","acc","item","rowIndex","Math","floor","useGridNavigation","gridItems","listItems","gridItemsRef","useRef","listItemsRef","currentLocation","setCurrentLocation","x","y","gridColumnCount","gridSection","slice","grid","handleKeyDown","updateLocation","key","preventDefault","prev","current","currentItem","gridRowCount","useModal","modalRef","modalOpen","setModalOpen","showModal","close","activeItem","querySelector","scrollIntoView","behavior","block","ModalContainer","forwardRef","onKeyDown","onClick","ref","modal","handleFocus","target","focus","Fragment","_JSXStyle","dynamic","white","elevations","e100","func","BackNavigationIcon","CloseKeyIcon","MultiDirectionNavigationIcon","SelectKeyIcon","VerticalNavigationIcon","NavigationKey","label","spacers","dp4","grey400","string","NavigationKeysLegend","verticalOnly","Boolean","showBackspace","dp8","dp12","grey050","grey300","dp24","SearchFilter","handleFilterChange","placeholder","InputField","IconSearch16","grey900","grey600","theme","AppItem","path","img","highlighted","dp16","grey200","cx","bool","Heading","heading","ListItem","title","image","description","onClickHandler","showDescription","undefined","HomeView","arr","idx","defaultAction","object","array","number","EmptySearchResults","ListView","url","isImage","isIcon","React","isValidElement","CommandPalette","containerEl","filteredItems","handleGridNavigation","handleVisibilityToggle","open","handleModalClick","metaKey","ctrlKey","IconApps24","headerBarContext","onApplyAvailableUpdate","HeaderBarContextProvider","clientAppName","clientAppVersion","useHeaderBarContext","logoStyles","styles","className","query","customLogo","resource","pathExists","data","images","png","LogoImage","loading","error","useDataQuery","Logo","LogoIconWhite","kind","IconMessages24","IconMail24","NotificationIcon","count","dataTestId","secondary500","secondary700","isRequired","oneOf","hasAuthority","userAuthorities","authId","Array","isArray","some","userAuthId","Notifications","interpretations","messages","arrayOf","_defaultExport","teal400","yellow300","__hash","OnlineStatus","dense","isConnected","online","useDhis2ConnectionStatus","onlineStatusMessage","useOnlineStatusMessage","displayStatus","useDebugInfo","appVersion","globalShellVersion","systemInfo","app_name","app_version","global_shell_version","full","dhis2_version","version","dhis2_revision","revision","useFormattedDebugInfo","JSON","stringify","formatDebugInfoKey","split","token","toUpperCase","substr","DebugInfoTable","debugInfo","Object","keys","DebugInfoModal","onClose","show","showClipboardAlert","useAlert","duration","copyDebugInfo","clipboard","writeText","useOnDocClick","containerRef","hide","onDocClick","evt","contains","document","DebugInfoMenuItem","hideProfileMenu","showDebugInfoModal","openDebugModal","debugInfoLabel","dhis2Version","appName","ProfileName","ProfileSubtitle","ProfileDetails","username","ProfileHeader","avatarId","grey100","UserAvatar","UpdateNotification","updateNotificationLabel","blue600","LoadingMask","Layer","Center","CircularLoader","ProfileContents","helpUrl","setLoading","e300","MenuItem","IconSettings16","IconLock16","IconUser16","MenuDivider","IconQuestion16","IconMore16","ProfileMenu","props","Profile","showProfileMenu","setShowProfileMenu","setShowDebugInfoModal","toggleProfileMenu","Title","app","instance","help","user","params","fields","notifications","HeaderBar","configAppName","pwaEnabled","getPath","startsWith","modules","locale","settings","keyUiLocale","setDefaultNamespace","changeLanguage","applicationTitle","unreadInterpretations","unreadMessageConversations","authorities","avatar","id","helpPageLink","getAppDisplayName","find","m","getAppVersion","bundledApps","parsedAppName","a","short_name","ba","ConnectedHeaderBar","appsInfoQuery","useParams","selfPWAUpdateState","usePWAUpdateState","appMenu","PluginError","missingEntryPoint","appShortName","getPluginEntryPoint","_apps$find","Plugin","pluginSource","pluginShortName","onLoad","height","width","clientWidth","propsToPassNonMemoized","iframeRef","alertsAdd","AlertsManagerContext","pluginEntryPoint","inErrorState","setInErrorState","resizedHeight","setPluginHeight","resizedWidth","setPluginWidth","memoizedPropsToPass","k","prevEntryPointRef","communicationReceivedRef","heightIsContentDriven","widthIsContentDriven","iframeProps","listener","postRobot","err","injectHeaderbarHidingStyles","doc","contentDocument","styleElement","createElement","textContent","head","appendChild","getAppDefaultAction","getPluginEntrypoint","watchForHashRouteChanges","contentWindow","hash","handleExternalNavigation","iframeLoadEvent","pluginHref","iframeHref","PluginLoader","useLocation","pluginEntrypoint","setPluginEntrypoint","rerenderKey","setRerenderKey","showNavigationWarning","warning","setColor","toggleColor","newPluginEntrypoint","pluginUrl","URL","search","searchParams","append","handleLoad","flexGrow","APPS_INFO_QUERY","Layout","container","Outlet","MyApp","basename","pathname","BrowserRouter","Routes","Route","Link"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,57,58]}